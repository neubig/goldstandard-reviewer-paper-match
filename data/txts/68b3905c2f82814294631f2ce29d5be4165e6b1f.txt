Measurement Based Impromptu Deployment of a Multi-Hop Wireless Relay Network

Arpan Chattopadhyay∗, Marceau Coupechoux†, and Anurag Kumar∗

∗Dept. of ECE, Indian Institute of Science Bangalore 560012, India
arpanc.ju@gmail.com, anurag@ece.iisc.ernet.in

†Telecom ParisTech and CNRS LTCI Dept. Informatique et Re´seaux
23, avenue d’Italie, 75013 Paris, France marceau.coupechoux@telecom-paristech.fr

arXiv:1301.3302v2 [cs.NI] 11 Mar 2013

Abstract—We study the problem of optimal sequential (“asyou-go”) deployment of wireless relay nodes, as a person walks along a line of random length (with a known distribution). The objective is to create an impromptu multihop wireless network for connecting a packet source to be placed at the end of the line with a sink node located at the starting point, to operate in the light trafﬁc regime. In walking from the sink towards the source, at every step, measurements yield the transmit powers required to establish links to one or more previously placed nodes. Based on these measurements, at every step, a decision is made to place a relay node, the overall system objective being to minimize a linear combination of the expected sum power (or the expected maximum power) required to deliver a packet from the source to the sink node and the expected number of relay nodes deployed. For each of these two objectives, two different relay selection strategies are considered: (i) each relay communicates with the sink via its immediate previous relay, (ii) the communication path can skip some of the deployed relays. With appropriate modeling assumptions, we formulate each of these problems as a Markov decision process (MDP). We provide the optimal policy structures for all these cases, and provide illustrations of the policies and their performance, via numerical results, for some typical parameters.
I. INTRODUCTION
Wireless interconnection of resource-constrained mobile user devices or wireless sensors to the wireline infrastructure via relay nodes is an important requirement, since a direct one-hop link from the source node to the infrastructure “basestation” may not always be feasible, due to distance or poor channel condition. The relays could be battery operated radio routers or other wireless sensors in the wireless sensor network context, or other users’ devices in the cellular context. The relays are also resource constrained and a cost might be involved in engaging or placing them. Hence, there arises the problem of optimal relay placement.
Motivated by the above larger problem, we consider the problem of “as-you-go” deployment of relay nodes along a line, between a sink node and a source node (see Figure 1), where the deployment operative starts from the sink node, places relay nodes along the line, and places the source node where the line ends. The problem is motivated by the need for impromptu deployment of wireless networks by “ﬁrst
This work was supported by the Indo-French Centre for the Promotion of Advanced Research (Project 4900-ITB), the Department of Electronics and Information Technology, via the Indo-US PC3 project, and the Department of Science and Technology (DST), via the J.C. Bose Fellowship.

ËÒ ´ÆÓ
Fig. 1.

0µÊ Ð Ý 1

Ê Ð Ý2 L

Ê Ð Ý3

ËÓÙÖ ÆÓ
´ÆÓ 4µ

A line network with one source, one sink and three relays.

responders,” for situation monitoring in an emergency such as a building ﬁre or a terrorist siege. Such problems can also arise when deploying wireless sensor networks in large difﬁcult terrains (such as forests) where it is difﬁcult to plan a deployment due to the unavailability of a precise map of the terrain, or when such networks need to be deployed and redeployed quickly and there is little time in between to plan, or in situations where the deployment needs to be stealthy (for example, when deploying sensor networks for detecting poachers or fugitives in a forest).
In this paper, we consider the problem of as-you-go deployment along a line of unknown random length, L, whose distribution is known. The transmit power required to establish a link (of a certain minimum quality) between any two nodes is modeled by a random variable capturing the effect of pathloss and shadowing. There is a cost for placing a relay, and the communication cost of a deployment is measured as some function of the powers required to communicate over the links. We consider two performance measures: the sum-power and the max-power along the path from the source to the sink, under two different relay selection strategies: (i) each relay communicates with the sink via its immediate previous relay, (ii) the communication path can skip some of the deployed relays. Under certain assumptions on the distribution of L, and the powers required at the relays, we formulate each of the sequential placement problems as a total cost Markov decision process (MDP).
The optimal policies for various MDPs formulated in this paper turn out to be threshold policies; the decision to place a relay at a given location involves the power required to establish a link to one or more previous nodes, and the distance to one or more previous nodes (depending on the objective and the relay selection strategy). Our analysis and numerical work also suggest that allowing the possibility of skipping some of the deployed relays may result in a reduction in the total cost.

A. Related Work
There has been increasing interest in the research community to explore the impromptu relay placement problem in recent years. Howard et al., in [1], provide heuristic algorithms for incremental deployment of sensors with the objective of covering the deployment area. Souryal et al., in [2], address the problem of impromptu deployment of static wireless networks with an extensive study of indoor RF link quality variation. The work reported in [3] use similar approach for relay deployment. Recently, Liu et al. ([4]) describe a breadcrumbs system for aiding ﬁreﬁghters inside buildings. However, there has been little effort to rigorously formulate the problem in order to derive optimal policies, from which insights can be gained, and which can be compared in performance to reasonable heuristics. Recently, Sinha et al. ([5]) have provided an MDP formulation for establishing a multi-hop network between a destination and an unknown source location by placing relay nodes along a random lattice path. They assume a given deterministic mapping between power and wireless link length, and, hence, do not consider the statistical variability (due to shadowing) of the transmit power required to maintain the link quality over links of a given length. We, however, consider such variability, and therefore bring in the idea of measurement based impromptu placement.
B. Organization
In Section II, the system model and the basic notation used in this work are discussed.
In Section III, the problem of sequential relay placement is addressed, under the assumption that a packet originating from the source makes a hop-by-hop traversal through all relay nodes. We formulate the problems with sum power and maxpower objectives as MDPs and establish the optimal policy structures analytically. We show that that, in each case, the decision to place or not to place at the current position depends on a comparison of the transmit power for establishing a link from the current position, with a threshold that depends on the state of the Markov decision process.
In Section IV, we again address the same problems as in Section III, but we relax the restriction that the links of the path from the source to the sink must be between adjacent deployed relays. This relaxation leads us to the formulation of MDPs with a more complicated state space. The optimal policies again turn out to be threshold policies. We provide numerical examples, using parameters similar to those that occur in commercially available wireless sensor networking devices. The performance improvement due to skipping relays is demostrated.
We conclude in Section V.
II. SYSTEM MODEL AND NOTATION A. Length of the Line
The length L of the line is a priori unknown, but there is prior information (e.g., the mean length L) that leads us to model L as a geometrically distributed number of steps. The step length δ (whose values will typically be several

meters, e.g., 2 meters in our numerical work) and the mean length of the line, L, can be used to obtain the parameter of the geometric distribution, i.e., the probability θ that the line ends at the next step. In the problem formulation, we assume δ = 1 for simplicity.1 All distances are assumed to be integer multiples of δ.
B. Deployment Process and Some Notation
As the person walks along the line, at each step he measures the link quality from the current location to one or more than one previous node and accordingly decides whether to place a relay at the current location or not. After the deployment process is complete (at the end of the line where the source is placed), we denote the number of deployed relays by N , which is a random number, with the randomness coming from the randomness in the link qualities and in the length of the line. As shown in Figure 1, the sink is called Node 0, the relay closest to the sink is called Node 1, and ﬁnally the source is called Node (N + 1). The link whose transmitter is Node i and receiver is Node j is called link (i, j). A generic link is denoted by e. C. Trafﬁc Model
We consider a trafﬁc model where the trafﬁc is so low that there is only one packet in the network at a time; we call this the “lone packet model.” As a consequence of this assumption, (i) the transmit power required over each link depends only on the propagation loss over that link, as there are no simultaneous transmissions to cause interference, and (ii) the transmission delay over each link is easily calculated, as there are no simultaneous transmitters to contend with. This permits us to easily write down the communication cost on a path over the deployed relays.
It was shown in [6] that a network operating under CSMA/CA medium access, and designed for carrying any positive trafﬁc, with some QoS (in terms of the packet delivery probability), must necessarily be able to provide the desired QoS to lone packet trafﬁc. As-you-go deployment of wireless networks while meeting QoS objectives for speciﬁc positive packet arrival rates is a topic of our ongoing research.
D. Channel Model
For our network performance objective (see Section II-E), we need the transmit power required to sustain a certain quality of communication over a link. In order to model this required power, we consider the usual aspects of path-loss, shadowing, and fading. A link is considered to be in outage if the received signal strength drops below Prcv−min (due to fading) (e.g., below -88 dBm). The transmit power that we use is such that the probability of outage is less than a small value (say 5%). For a generic link of length r, we denote by Γr the transmit power required; due to shadowing, this is modeled as a random variable. Since practical radios can only be set to transmit
1The geometric distribution is the maximum entropy discrete probability mass function with a given mean. Thus, by using the geometric distribution, we are leaving the length of the line as uncertain as we can, given the prior knowledge of L.

at a ﬁnite set of power levels, the random variable Γr takes values from a discrete set, S. The distribution function of Γr is denoted by Gr(·), and the probability mass function (p.m.f.) by g(r, ·), i.e., g(r, γ) := P (Γr = γ) for all γ ∈ S; g(r, γ) is the probability that at least the transmit power level γ is required to establish a link of length r. Since the required transmit power increases with distance, we assume that {Gr}r=1,2,... is a sequence of distributions stochastically increasing (for deﬁnition, see [7]) in r. We also need to talk about a speciﬁc link, say e; we will denote the transmit power required for this link by Γ(e). We assume that the powers required to establish any two different links in the network are independent, i.e., Γ(e1) is independent of Γ(e2) for e1 = e2. Spatially correlated shadowing will be considered in our future work.
E. Deployment Objective
In this paper, we do not consider the possibility of another person following behind, who can learn from the measurements and actions of the ﬁrst person, thereby supplementing the actions of the preceding individual. Our objective is to design relay placement policies so as to minimize the sum of the expected sum power/ maximum power (to deliver a packet from the source node to the sink node) and the expected cost of placing the relays (the expected number of relays multiplied by the relay cost, ξ). By a standard constraint relaxation, this problem also arises from the problem of minimizing the expected sum/ max power, subject to a constraint on the mean number of relays. Such a constraint can be justiﬁed if we consider relay deployment for multiple source-sink pairs over several different lines of mean length L, given a large pool of relays, and we are only interested in keeping small the total number of relays over all these deployments.
The max-power objective is a valid one in a typical sensor network setting since each of the battery-operated relays must use as little power as possible in order to maximize the network lifetime. The sum-power objective may be useful in a different scenario. Consider a mobile station (MS) trying to establish a multihop connection to a base station (BS) at an unknown distance in order to download data, and there is a continuum of other nodes between them. Each node can be used as a relay only if it is paid a certain price. The price may have a ﬁxed component (corresponds to the cost ξ of a relay) and a variable component proportional to the power used by the relay to serve the MS. The MS could send out a probe towards the BS; the probe needs to sequentially establish a multihop path using other nodes along the path as relays. The formulation for this problem will be analogous to that for the sequential relay placement problem with the sum-power objective. Also, in the context of global energy saving, it is interesting to have relay deployment policies that minimize the sum power.
Note that our problem formulation is applicable to the situation in which a relay can be set to a low power state except when it has to receive or transmit. If the relays always keep their receivers on, with the current drawn from the battery

in the receiving mode being the same as the current required at the transmit mode, then the battery lifetime will depend on the current drawn in the receive mode, since for light trafﬁc the node will transmit rarely. Also note that, our formulation is capable of using any monotonically increasing function of the power at a node as the objective to be optimized, rather than directly using the sum/max power objective. The function could denote the current requirement for a particular transmit power, which will in turn govern the lifetime.
F. Routing over the Deployed Relays
After node deployment, the routes could be constrained so as to allow transmissions only between adjacent nodes, i.e., the routes use solely the links represented by the solid lines in Figure 1; we consider this problem in Section III. However, after deployment, it may turn out that it is better that the route from the source to the sink skips some relays (e.g., in Figure 1, if the channel between the source node and relay 2 is very good, it could be better to directly transmit from the source node to relay 2 without using relay 3). Hence, while formulating the problem, it would be beneﬁcial to permit the possibility that some of the dotted links in Figure 1 can be used after deployment; this problem is solved in Section IV.
III. RELAYING VIA ADJACENT PREVIOUS NODE ONLY
In this section we allow relaying from the source to the sink only by each relay passing the packet to the immediate previous relay, in the order of deployment. Thus, this is the measurement-based extension to the problem in [8].

A. Sum-Power Objective

1) Problem Formulation: Our problem is to place the relay nodes sequentially such that the expected sum of the total power cost and the relay cost is minimized. We formulate this problem as an MDP with state (r, γ), where r is the distance of the current location from the previous node and and γ is the transmit power required to establish a link to the previous node from the current location. Based on (r, γ) a decision is made whether to place a relay at the current position or not. 0 denotes the state at the beginning of the process (at the sink node). When the source is placed, the process terminates and the system enters and stays forever at a state e. The action space is {place, do not place}. The randomness comes from the random length L and the randomness in Γ(e).
The problem we seek to solve is:

N +1

min Eπ

Γ(i,i−1) + ξN

(1)

π∈Π

i=1

where Π is the set of all stationary deterministic Markov placement policies and π is a speciﬁc stationary deterministic Markov placement policy. Any deterministic Markov policy π is a sequence of mappings {µk}k≥1, where µk takes the state of the system at time k (the k-th step from the sink, in the context of our problem) and maps it into any one of the

two actions {place, do not place}. If µk does not depend on k, then the policy is called stationary policy. By proposition 1.1.1 of [9], we can restrict ourselves to the class of randomized Markov policies. The justiﬁcation for restriction to stationary deterministic policies will be given later.
Solving (1) also helps in solving the following constrained problem (see [10]):

N +1

min Eπ

Γ(i,i−1) such that EπN ≤ M,

(2)

π∈Π

i=1

where M is a constraint on the mean number of relays deployed. In this paper, however, we consider only the unconstrained problem.
If the state is (r, γ) and a relay is placed, the relay cost ξ and the power cost γ is incurred at that step. We do not count the price of the source node, but include the power used by the source in our cost. No cost is incurred if we do not place a relay at a certain location. Note that 0 also denotes the state immediately after placing a relay, since the process regenerates whenever a relay is placed (this follows from the memoryless property of geometric distribution and the independence of Γ(i,j) and Γ(k,l) for (i, j) = (k, l)). Let us deﬁne Jξ(r, γ) and Jξ(0) to be the optimal expected cost-to-go starting from state (r, γ) and state 0 respectively.

2) Bellman Equation: Here we have an inﬁnite horizon total cost MDP with a countable state space and ﬁnite action space. The assumption P of Chapter 3 in [9] is satisﬁed here, since the single-stage costs are nonnegative. Hence, by Proposition 3.1.1 of [9], the optimal value function Jξ(·) satisﬁes the following Bellman equation:
cp

Jξ(r, γ) = min ξ + γ + Jξ(0),

cnp

θE(Γr+1) + (1 − θ)EJξ (r + 1, Γr+1)

Jξ(0) = θE(Γ1) + (1 − θ)EJξ (1, Γ1)

(3)

cp in (3) is the cost of placing a relay at the state (r, γ), and cnp is the cost of not placing a relay.
If the current state is (r, γ) and the line has not ended yet,
we can take either of the two actions. If we place a relay, a cost (ξ + γ) is incurred; another cost Jξ(0) is also incurred since the decision process regenerates at the point. If we do not place a relay, the line will end with probability θ in the next step, in which case a cost E(Γr+1) will be incurred. If the line does not end in the next step, the next state will be (r + 1, γ ) where γ ∼ Gr+1 and a mean cost of EJξ(r + 1, Γr+1) = γ g(r + 1, γ)Jξ(r + 1, γ) will be incurred. Note that it is never optimal to place a relay at state 0. If it were
so, then we would have placed inﬁnitely many relays at the
sink, leading to inﬁnite relay cost. But if we place one relay
at each step until the line ends, the expected cost will be less than ( θ1 + 1)(ξ + E(Γ1)) < ∞. Hence, the optimal action at state 0 would be to move to the next step without placing

the relay. In the next step the line ends with probability θ, in which case a cost E(Γ1) is incurred. If the line does not end in the next step, the next state will be (1, γ) where γ ∼ G1.
Justiﬁcation for restricting to the class of stationary, deterministic policies: From (3), we see that for each state, there is one action from the set of actions that achieves the minimum in the Bellman equation. Hence, by Proposition 3.1.3 of [9], we have a stationary deterministic optimal policy. Hence, we can focus on the class of stationary, deterministic policies.

3) Value Iteration: The value iteration for (1) is given by: Jξ(k+1)(0) = θE(Γ1) + (1 − θ)EJξ(k) (1, Γ1)
Jξ(k+1)(r, γ) = min ξ + γ + Jξ(k)(0), θE(Γr+1)

+ (1 − θ)EJξ(k) (r + 1, Γr+1)

(4)

where Jξ(0)(r, γ) = 0 for all r, γ and Jξ(0)(0) = 0. Lemma 1: The value iteration (4) provides a nondecreasing
sequence of iterates that converges to the optimal value function, i.e., Jξ(k)(r, γ) ↑ Jξ(r, γ) for all r, γ, and Jξ(k)(0) ↑ Jξ(0) as k ↑ ∞.
Proof: See Appendix A.

4) Policy Structure:
Lemma 2: Jξ(r, γ) is concave, increasing in γ and ξ and also increasing in r. Jξ(0) is concave, increasing in ξ.
Proof: See Appendix A.
Theorem 1: Policy Structure: The optimal policy for Problem (1) is a threshold policy with a threshold γth(r) increasing in r such that at a state (r, γ) it is optimal to place a relay if and only if γ ≤ γth(r). This corresponds to the condition cp ≤ cnp.
Proof: See Appendix A.
Remark 1: If γ = γth(r), either action is optimal.
Discussion of the Policy Structure: We do not place at an r if the required power is too high, as one might expect to get a better channel if one takes another step. For each r, there is a threshold on γ below which we place. This threshold increases with r since the distribution of Γr is stochastically increasing with r.
Note that the optimal policy in Theorem 1 can also be stated as follows: place a relay if and only if r ≤ rth(γ) (i.e., cp ≤ cnp) where rth(γ) is some threshold on r, increasing in γ. Moreover, if there is a function d(·) such that g(r, d(r)) = 1 for all r, d(r) is convex increasing in r, d(r) ↑ ∞ and d (r) ↑ ∞ as r ↑ ∞, then we have the same problem as [8], in which case it is optimal to place if and only if r ≥ rth.

5) Computation of the Optimal Policy: Let us write
Vξ(r) := EJξ (r, Γr), i.e., Vξ(r) := γ g(r, γ)Jξ (r, γ) for all r ∈ {1, 2, 3, · · · }, and Vξ(0) := Jξ(0). Also, for each stage k ≥ 0 of the value iteration (4), deﬁne Vξ(k)(r) := EJξ(k) (r, Γr) and Vξ(k)(0) := Jξ(k)(0).

Observe that from the value iteration (4), we obtain:

Vξ(k+1)(r) =

g(r, γ) min ξ + γ + Vξ(k)(0),
γ

θE(Γr+1) + (1 − θ)Vξ(k)(r + 1)

Vξ(k+1)(0) = θE(Γ1) + (1 − θ)Vξ(k)(1)

(5)

Since Jξ(k)(r, γ) ↑ Jξ(r, γ) for each r, γ and Jξ(k)(0) ↑ Jξ(0) as k ↑ ∞, we can argue that Vξ(k)(r) ↑ EJξ(r, Γ(r)) for all r ∈ {1, 2, 3, · · · } (by Monotone Convergence Theorem) and Vξ(k)(0) ↑ Jξ(0). Thus, Vξ(k)(r) ↑ Vξ(r) and Vξ(k)(0) ↑ Vξ(0). Hence, by the function iteration (5), we obtain Vξ(0) and Vξ(r)
for all r ≥ 1. Then, from (3), we can compute γth(r). Thus, for
this iteration, we need not keep track of the cost-to-go values Jξ(k)(r, γ) at each stage k; we simply need to keep track of Vξ(k)(r).

6) A Numerical Example: We take δ = 2 meters and

θ = 0.025, (i.e., L = 40 steps, or 80 meters), and S =

{−25, −20, −15, −10, −5, 0, 3} in dBm. Using a standard

model, with transmit power PT (mW), the received power

(in mW) at a distance r from the transmitter is given by PT α( rr0 )−ηH10− 1ν0 where α is a constant and r0 is a reference distance. H models Rayleigh fading, and is exponentially

distributed with mean 1. ν is assumed to be distributed as

N (0, σ2) with σ = 8 dB; i.e., we have log-normal shadowing.

The shadowing is assumed to be independent from link to

link. For a commercial implementation of the PHY/MAC of

IEEE 802.15.4 (a popular wireless sensor networking stan-

dard), −88 dBm received power corresponds to a 2% packet

loss probability for 140 byte packets. Taking −88 dBm to

be the minimum acceptable received power, we set the target

received power (averaged over fading) to be ψ = 10−7.5 mW

(i.e., −75 dBm), which (under Rayleigh fading) yields an “out-

age” probability of 5%. Hence, the transmit power required to

establish the link is:

ψ

rη

Preq

=

10−

ν 10

α

r0

(8)

Now, since the set S is bounded, at large distance the required power to achieve ψ will exceed 2 mW (i.e., 3 dBm) with high probability. To tackle this problem, we take the following approach. We modify the problem formulation by requiring that a relay is placed when r = 10 (in steps). For 1 ≤ r ≤ 10 (in steps), we obtain Γr by inverting the path-loss formula and using the next higher power level in S. For example, if the required transmit power to establish the link, obtained from (8), is in (−5, 0] dBm, then we say that the power requirement is 0 dBm for that link. But, if the power requirement is more than 3 dBm, then we say that the required power is 3 dBm. It is easy to see that the distribution Gr(·) of Γr obtained in this fashion is stochastically increasing

E(N ) Relay cost ξE(N )
Power Cost Jξ (0)

ξ = 0.001 15.8754 0.01588 0.07513 0.09101

ξ = 0.01 10.3069 0.10307 0.08277 0.18584

ξ = 0.1 5.3225 0.53225 0.19291 0.72516

TABLE I RELAYING VIA THE LAST PLACED RELAY: BREAK-UP OF THE OPTIMAL COST FOR THE EXAMPLE IN SECTION III-A, FOR THREE VALUES OF THE
RELAY COST ξ.

γth(r) (in dBm)

−5 ξ=0.001
−10 ξ=0.5 −15

−20

−25

−30

2

4

6

8 10 12 14 16 18

r (in meter)

Fig. 2. Relaying only via last placed relay: γth(r) vs. r, for various relay costs, ξ, for the numerical example described in Section III-A6.

2 in r. For the numerical work, we assume that η = 2.5,

α
−η

= 10−3/m−2.5

(−30 dB). With these parameters, the

r0

probablity of the transmit power required to achieve a target

received power ψ = −75 dBm (averaged over fading) for a

link of length 10 steps (20 meters) exceeding 3 dBm (which

is the maximum transmit power) will be less than 2.65%. This

probability will be even less for links having length smaller

than 20 meters. Note that these comment imply that there is

a positive probability of deployment failure; we will quantify

this later in Section III-A7.

Figure 2 shows the variation of γth(r) with r and ξ. Here the unit of ξ is mW/relay, so that the unit of Jξ(0) is also mW. We see from Figure 2 that, for ξ = 0.001, if the previous

relay is 8 meters behind, and the required power is −20 dBm

or below, then a relay should be placed at this point because

γth(r = 8 meters) = −20dBm. Also, note that −25 dBm is the smallest possible transmit power level, and for ξ = 0.001

we will never place a relay at r = 2 meters since there γth(r) is 0 mW (−∞ dBm). The variation of γth(r) with r has already

been established in Theorem 1. But Figure 2 also shows that

γth(r) is decreasing in ξ for each r. This is intuitive because ξ is the price of a relay, and all it says is that as the price of

a relay increases, we will place the relays less frequently.

The variation of the mean number of relays E(N ) and

various cost components with ξ is shown in Table I. It shows

that as the cost of a relay ξ increases, the mean number of

relays decreases, and the power cost and Jξ(0) increase.

2The results asserted for the formulation in Section III-A, e.g., threshold
structure of the optimal policy, hold for this variation as well. The only change will be that at r = 10 steps the only feasible action is to place the relay. We
can use the same iterations as (4) and (5) to compute the optimal policy in this case, except that we need to set Jξ(k)(r, γ) or Vξ(k)(r) to ∞ at each iteration if r is 11 steps or more. This will force the policy to place the relay within every 10 steps.

Jξ(r, γ, γmax) = min ξ + θE max{γ, γmax, Γ1} + (1 − θ)EJξ(1, Γ1, max{γ, γmax}),
cp

θE max{γmax, Γr+1} + (1 − θ)EJξ(r + 1, Γr+1, γmax)

(6)

cnp

Jξ(k+1)(r, γ, γmax) = min

ξ + θE max{γ, γmax, Γ1} + (1 − θ)EJξ(k)(1, Γ1, max{γ, γmax}),

θE max{γmax, Γr+1} + (1 − θ)EJξ(k)(r + 1, Γr+1, γmax)

(7)

7) Deployment Failure: Since, in practice, there is a maximum power at which a transmitter can transmit (e.g., 3 dBm), there is a possibility that a deployment can fail. It is interesting to compute the probability of such failure in the algorithms that we have derived. Here we provide a simulation estimate of the deployment failure probabilities for the sum power objective, under the threshold policies obtained numerically in Section III-A6. In our numerical example in Section III-A6, deployment failure can occur in the following two cases: (i) at r = 10 steps the required power exceeds 3 dBm; the probability of this event is 2.65% , and (ii) the source at the end of the line requires more than 3 dBm power. By simulating 200000 deployments, we observe that the deployment failure probability for ξ = 0.001, 0.01, 0.1 and 1 are 0.025%, 0.057%, 0.555% and 3.8% respectively.
Evidently, there is a trade-off between the target link performance and the probability of link failure. In addition, by placing relays more frequently, we reduce the chance of being caught in a situation where the deployment operative has walked too far without placing a relay and is unable to get a workable link to the previous node. In future work, we propose to include deployment failure probability as a constraint in the optimization formulation. Another way to reduce deployment failure is to permit back-tracking by the deployment operative, which, of course, will require the placement algorithm to keep more measurement history; we propose to permit this in our future work as well.

B. Max-Power Objective 1) Problem Formulation: We aim to address the following
problem:

min Eπ

max Γ(i,i−1) + ξN

(9)

π∈Π

i∈{1,2,··· ,N +1}

We formulate (9) as an MDP. The state of the system is (r, γ, γmax) where r and γ are the same as before, and γmax is the maximum power used in all the previously established links. The action space is {place, do not place} as before. The cost structure is such that the power cost is incurred only after the source node is placed.
2) Bellman Equation: The problem is again an inﬁnite horizon total cost problem with countable state space, ﬁnite

action space and nonnegative single-stage cost. Hence, by the same arguments as used in problem (1), the optimal value function Jξ(·) satisﬁes the Bellman equation (6). At state 0, it is not optimal to place a relay. Hence, Jξ(0) = θE(Γ1) + (1 − θ)EJξ(1, Γ1, 0).
At state (r, γ, γmax), if we place a relay, we incur a cost ξ and in the next step the line ends with probability θ in which case a power cost of E max{γ, γmax, Γ1} is incurred. If the line does not end in the next step, the next state becomes (1, γ , max{γ, γmax}) where γ ∼ G1, and a cost of EJξ(1, Γ1, max{γ, γmax}) is incurred. On the other hand, if we do not place a relay at state (r, γ, γmax), the line ends in the next step with probability θ in which case a power cost of E max{γmax, Γr+1} is incurred. If the line does not end in the next step, the next state will be (r + 1, γ , γmax) where γ ∼ Gr+1.
3) Value Iteration: The value iteration for this MDP is given by (7) with Jξ(0)(r, γ, γmax) = 0 for all r, γ, γmax.
Lemma 3: The iterates of the value iteration (7) converge to the optimal value function, i.e., Jξ(k)(r, γ, γmax) ↑ Jξ(r, γ, γmax) for all (r, γ, γmax), as k ↑ ∞.
Proof: See Appendix A.
4) Policy Structure:
Lemma 4: Jξ(r, γ, γmax) is concave, increasing in ξ and increasing in r, γ, γmax.
Proof: See Appendix A.
Theorem 2: Policy Structure: The conditions for optimal relay placement are:
(i) If γ ≤ γmax, place the relay when r ≥ rth(γmax) where rth(γmax) is a threshold value.
(ii) If γ > γmax, place the relay when γ ≤ γth(r, γmax) where γth(r, γmax) is a threshold value increasing in r and γmax.
Proof: See Appendix A.
Discussion of the policy structure: When γ ≤ γmax, we can postpone placement until the point beyond which the chance of getting a worse value of power becomes signiﬁcant. For γ > γmax, waiting to place the relay may result in a better channel; there is a threshold γth(r, γmax) such that γth(r, γmax) may cross γmax for large enough r. If γ is between these two values then we place.

E(N ) Relay Cost Power Cost
Jξ (0)

ξ = 0.001 18.1178 0.01812 0.01524 0.03336

ξ = 0.01 8.6875 0.08688 0.04436 0.13124

ξ = 0.1 4.6615 0.46615 0.15079 0.61693

TABLE II RELAYING VIA THE LAST PLACED RELAY: BREAK-UP OF THE OPTIMAL COST FOR THE EXAMPLE IN SECTION III-B, FOR THREE VALUES OF THE
RELAY COST ξ.

5) Computation of the Optimal Policy: Let us deﬁne Vξ(r, γmax) := EJξ(r, Γr, γmax). We can again argue that the following function iteration (similar to that used in Section III-A)) will yield Vξ(r, γmax) for all r, γmax, from which we can compute rth(γmax) and γth(r, γmax):

Vξ(k+1)(r, γmax) =

g(r, γ) min ξ + θE max{γ, γmax, Γ1}
γ

+ (1 − θ)Vξ(k)(1, max{γ, γmax}),

θE max{γmax, Γr+1}

+ (1 − θ)Vξ(k)(r + 1, γmax) (10)

with Vξ(0)(r, γmax) = 0 for all r, γmax.
6) A Numerical Example: Figure 3 shows the variation of rth(γmax) with γmax and ξ. Here we consider the same setting as Section III-A6. The plot shows that rth(γmax) increases with γmax. To get an insight into the reason, let us consider the situation γ < γmax. If r is small, then it is more likely that in the next step also the power required to establish a link to the last node will be below γmax, and hence, we don’t need to place a relay. But if r is large, then it is more likely that the required power will cross γmax in the next step, and hence we will have a threshold rth(γmax) beyond which we have to place the relay. As γmax increases, the probability that the power required to establish a link to the last node exceeding γmax decreases for each r, thereby increasing rth(γmax). Also, rth(γmax) increases with ξ because if the price of a relay increases, we will place relays less frequently.
Figure 4 shows the variation of γth(r, γmax) with r for γmax = −20 dBm and two different values of ξ. For very small ξ (e.g., ξ = 0.00001), γth(r, γmax) can be more than γmax for all r. For moderate values of ξ (e.g., ξ = 0.01 in Figure 3), γth(r, γmax) vs. r curve crosses γmax at r = rth(γmax). Also, we have seen numerically that for ξ very large, γth(r, γmax) is 0 mW for r ≤ 9 steps; for large ξ we will place a relay only when r = 10 steps (20 meters).
The variation of the mean number of relays E(N ) and different cost components with ξ is shown in Table II. It shows that as the cost of a relay ξ increases, the mean number of relays decrease, and the power cost and Jξ(0) increase. Note that, for any given deployment and any given relay cost ξ, the sum power is always greater than the max power in the network. Hence, for a given ξ, the mean power cost and Jξ(0) for the sum power objective will be greater than the

20

rth(γmax) (in meter)

15

10

ξ=0.001 5 ξ=0.01

ξ=0.1

0

−25

−20

−1γ5

−10

−5

(in dBm)

0

max

Fig. 3. Relaying only via last placed relay: rth(γmax) vs. γmax, for various relay costs, ξ, for the numerical example described in Section III-B6.

γth(r,γmax=−20 dBm) in dBm

−5

ξ=0.01

−10

ξ=0.00001

−15

−20

−25

−30 2 4 6 8 10 12 14 16 18
r (in meters)
Fig. 4. Relaying only via last placed relay: γth(r, γmax) vs. r, for γmax = −20 dBm and various relay costs, ξ, for the numerical example described in Section III-B6.

corresponding values for the max-power objective, as seen in Table I and Table II.
The estimated probability of deployment failure obtained from 200000 simulations of the deployment for ξ = 0.001, 0.01, 0.1 and 1 are 0.01%, 0.145%, 0.73% and 5.39% respectively.
IV. RELAYING VIA ANY PREVIOUS NODE
In Section III, we considered the case where, after the deployment is over, only the links between adjacent nodes are permitted, i.e., only the links represented by the solid lines in Figure 1 can be used. However, as discussed in Section II, while formulating the problem we need to take into account the fact that some relays might be skipped after deployment, i.e., some of the links represented by the dotted lines in Figure 1 can be used. This section is dedicated to such formulation and exploration of the structural properties of the relay placement policies for different objectives.
A. Sum-Power Objective
1) Problem Deﬁnition: Given a deployment of N relays, indexed 1, 2, · · · , N, consider the directed acyclic graph on these relays along with the sink (Node 0) and the source (Node N + 1), whose links are all directed edges from each node to every node with smaller index. Hence, if i and j are two nodes with i > j, there is only one link (i, j) between them. Consider all directed acyclic paths from the source to sink, on this graph. Let us denote by p any arbitrary directed acyclic path from

Jξ {yk}nk=1; {P (k)}nk=1; {γ(k)}nk=1 = min ξ + θE min

min (Γyk+1 + P (k)), Γ1 + min (γ(k) + P (k))

k∈{1,2,··· ,n−1}

k∈{1,2,··· ,n}

+ (1 − θ)EJξ 1, y1 + 1, · · · , yn−1 + 1; min (γ(k) + P (k)), P (1), · · · , P (n−1); Γ1, Γy1+1, · · · , Γyn−1+1 ,
k∈{1,··· ,n}

θE min

Γyk+1 + P (k) + (1 − θ)EJξ {yk + 1}nk=1; {P (k)}nk=1; {Γyk+1}nk=1

(11)

k∈{1,··· ,n}

Jξ {yk}m k=1; {P (k)}m k=1; {γ(k)}m k=1 = min ξ + θE min

min (Γyk+1 + P (k)), Γ1 + min (γ(k) + P (k))

k∈{1,2,··· ,m}

k∈{1,2,··· ,m}

+ (1 − θ)EJξ 1, y1 + 1, · · · , ym + 1; min (γ(k) + P (k)), P (1), · · · , P (m); Γ1, Γy1+1, · · · , Γym+1 ,
k∈{1,··· ,m}

θE min

Γyk+1 + P (k) + (1 − θ)EJξ {yk + 1}m k=1; {P (k)}m k=1; {Γyk+1}m k=1

(12)

k∈{1,··· ,m}

the source to the sink, and by E(p) the set of (directed) links of the path p. We also deﬁne Pn := {p : (i, j) ∈ E(p) =⇒ i > j, |i − j| ≤ n} a subcollection of paths between the source and the sink on the directed acyclic graph, such that no path in Pn contains a link between two nodes whose indices differ by a number larger that n. We call n the “memory” of the class of policies we are considering.
Here we consider the following problem:

min Eπ min

Γ(e) + ξN

(13)

π∈Π

p∈Pn

e∈E(p)

where Γ(e) is the power used on the link e. We call e∈E(p) Γ(e) the “length” of the path p, and minp∈Pn e∈E(p) Γ(e) the length of the “shortest path” from the source to the sink (over the relays deployed by policy π
in a given realization of the decision process).

2) MDP Formulation: Consider the evolution of the net-

work as the relays are deployed. Suppose that at some point in

the deployment process there are m preceding nodes, including

the sink; see Figure 5 where m = 4. The transmit power

required to establish a link from the current location to the

k-th previous node is denoted by γ(k), and the distance of the

current location from the k-th previous node is denoted by yk. Let Pn(k) denote the length of the “shortest path” from the k-th previous node to the sink. We deﬁne Pn(m) := 0 if m ≤ n, i.e.,

the length of the shortest path from the sink to itself is 0 (when

m ≤ n, the m-th previous node is the sink). For notational simplicity, we drop the subscript and denote Pn(k) by P (k). The

deployment operative decides whether to place a node at his

current position based on (i) the powers γ(1), γ(2), · · · , γ(n),

(ii) the distances y1, y2, · · · , yn, and (iii) the length of the shortest paths P (1), P (2), · · · , P (n). If n = 2, at the “current

location” shown in Figure 6, the decision will be based on the

powers γ(1), γ(2), the distances y1, y2, and the shortest paths P (1) and P (2) at nodes 3 and 2 respectively. However, in case

m < n, we do not have measurements for n previous nodes.

Hence, let us deﬁne lm := min{m, n}. At each step, the

deployment operative knows the distance {yk}lkm=1, the power

{γ (k) }lkm=1

and

the

lengths

of

the

shortest

paths

{P

(k

)

}

lm k=1

.

He decides based on this information whether to place a relay

γ(4)

Ë Ò ÆÓ

γ(3)

γ(2)

γ(1)

Ê Ð Ý 1 Ê Ð Ý 2 Ê Ð Ý 3 ÙÖÖ ÒØ ÐÓ Ø ÓÒ

y1

y3

y2

y4

Fig. 5. Measurement-based sequential relay placement. When standing at the

“current location,” the deployment operative, having already deployed Relays 1, 2, and 3, makes the power measurements γ(k), and knows the distances

yk .

P(1)

P(2)

γ(2)

Ë Ò ÆÓ

γ(1)
Ê Ð Ý 1 Ê Ð Ý 2 Ê Ð Ý 3 ÙÖÖ ÒØ ÐÓ Ø ÓÒ y2y1

Fig. 6. Sequential deployment of relay nodes with n = 2. When standing
at the “current location,” the deployment operative, having already deployed Relays 1, 2, and 3, makes the power measurements γ(1), γ(2), and knows the distances y1, y2 and the lengths P (1), P (2) of the shortest paths from relay 3 and relay 2 to the sink node.

at the current position or not. We formulate this problem as an MDP with state ({yk}lkm=1; {P (k)}lkm=1; {γ(k)}lkm=1), and the action space {place, do not place}. The state at the sink is
denoted by 0. Since the set S of transmit power levels is countable, {P (k)}lkm=1 also take values from a countable set. Hence, the state space is countable in our problem.
If the state is ({yk}lkm=1; {P (k)}lkm=1; {γ(k)}lkm=1) and a relay is placed, the relay cost ξ is incurred. The power cost is
incurred only after the source is placed, and that cost will
be the length of the shortest path in Pn from the source to the sink. Let us deﬁne Jξ({yk}lkm=1; {P (k)}lkm=1; {γ(k)}lkm=1) and Jξ(0) to be the optimal expected cost-to-go starting from state ({yk}lkm=1; {P (k)}lkm=1; {γ(k)}lkm=1) and state 0 respectively.
3) Bellman Equation: Note that here again we have an inﬁ-
nite horizon total cost MDP with a countable state space, ﬁnite
action space and nonnegative single-stage cost. Hence, the
optimal value function Jξ(·) satisﬁes the Bellman equations (11) for m ≥ n and (12) for m < n, for the optimal cost
function. The ﬁrst term in the min{·, ·} is the cost if we place a relay at the state ({yk}lkm=1; {P (k)}lkm=1; {γ(k)}lkm=1), and the second term is the cost if we do not place a relay.

Jξ {yk}nk=1; {P (k)}nk=1; {γ(k)}nk=1 = min ξ + θE min

min max{Γyk+1, P (k)}, max{Γ1, min max{γ(k), P (k)}}

k∈{1,2,··· ,n−1}

k∈{1,2,··· ,n}

+ (1 − θ)EJξ 1, y1 + 1, · · · , yn−1 + 1; min max{γ(k), P (k)}, P (1), · · · , P (n−1); Γ1, Γy1+1, · · · , Γyn−1+1 ,
k∈{1,··· ,n}

θE min max{Γyk+1, P (k)} + (1 − θ)EJξ {yk + 1}nk=1; {P (k)}nk=1; {Γyk+1}nk=1

(14)

k∈{1,··· ,n}

Jξ {yk}m k=1; {P (k)}m k=1; {γ(k)}m k=1 = min ξ + θE min

min max{Γyk+1, P (k)}, max{Γ1, min max{γ(k), P (k)}}

k∈{1,2,··· ,m}

k∈{1,2,··· ,m}

+ (1 − θ)EJξ 1, y1 + 1, · · · , ym + 1; min max{γ(k), P (k)}, P (1), · · · , P (m); Γ1, Γy1+1, · · · , Γym+1 ,
k∈{1,··· ,m}

θE min max{Γyk+1, P (k)} + (1 − θ)EJξ {yk + 1}m k=1; {P (k)}m k=1; {Γyk+1}m k=1

(15)

k∈{1,··· ,m}

Observe that it is never optimal to place a relay at state 0 because, in doing so, a cost ξ will unnecessarily be incurred. Hence, Jξ(0) = θE(Γ1) + (1 − θ)EJξ(1; 0; Γ1).
When m ≥ n, if we place a relay at the current location and
if the line ends in the next step, the length of the shortest path
from the source to the sink will be seen as a terminal cost, and is equal to E min{mink∈{1,··· ,n−1}(Γyk+1 + P (k)), Γ1 + mink∈{1,··· ,n}(γ(k) +P (k))}. Note that in this case the shortest path from the source to the sink can pass via the relay placed at the “current location”, or via one of the (n − 1) previous
relays. For example, in the scenario shown in Figure 6 (with n = 2), if we place a relay at the “current location” and the
line ends at the next step, then the neighbouring node of the
source along the shortest path can be the relay placed at the “current location” or relay 3 (source is not allowed to transmit directly to relay 2 because n = 2). Keeping this in mind, Γyk+1 + P (k) is the sum of two costs: the (random) power Γyk+1 from the source to the (k + 1)-st previous node w.r.t the source (after placing the relay at the current location, the current k-th previous node will become the (k +1)-st previous
node in the next step, where the source will be placed) and the length of the shortest path P (k) from that node to the sink. Γ1 + mink∈{1,··· ,n}(γ(k) + P (k)) is the sum of the random power Γ1 required to establish a link from the source to the relay deployed at the current location, and the length of the
shortest path from this relay to the sink.
When m ≥ n, if we place a relay at the current location and the line does not end in the next step, the terms yn, P (n) and γ(n) disappear from the state (because a new relay has
been placed, which must be taken into account in the state) and the distance 1 of the next location from the newly placed
relay at the current location is absorbed into the state. Other distances in the state increase by 1 each. The length of the
shortest path from the newly placed relay to the sink, i.e., mink∈{1,··· ,n}(γ(k) + P (k)) enters the state, and the power required at the next location to connect to the n previous relays
(w.r.t the next location) are independently sampled again. Hence, keeping in mind that Γr is the random power required to establish a link between two nodes at a distance r, the new
state becomes:

(1, y1 + 1, · · · , yn−1 + 1; min (γ(k) + P (k)),
k∈{1,··· ,n}
P (1), · · · , P (n−1); Γ1, Γy1+1, · · · , Γyn−1+1)

Similarly, if m ≥ n and we do not place a relay at the cur-

rent location, in the next step the line may end with probability
θ and may not end with probability (1 − θ). If the line ends, a cost of the shortest path E mink∈{1,··· ,n}(Γyk+1 + P (k)) will be incurred. If the line does not end, the next state will be the random tuple ({yk + 1}nk=1; {P (k)}nk=1; {γk}nk=1), where for each k ∈ {1, · · · , n}, γk will be drawn independently from each other from the distribution Gyk+1(·).3

Similar arguments can be used to explain (12) in case m < n. The difference is that if we place a relay at the current

location and the line does not end in the next step, the next

state will have three more terms, since the information for the

newly placed relay can be accomodated into the state. On the

other hand, if the line ends in the next step, the source will be able to communicate to the sink via one of the m relays (there will be (m + 1) preceding nodes, including the sink).

4) Results and Discussion:

Theorem 3: Policy Structure: For the ({yk}lkm=1; {P (k)}lkm=1; {γ(k)}lkm=1), the optimal

state relay

placement policy is the following:

Place a relay if and only if mink∈{1,··· ,lm}(γ(k) + P (k)) ≤ c({yk}lkm=1; {P (k)}lkm=1) where c({yk}lkm=1; {P (k)}lkm=1) is a

threshold value.

Proof: See Appendix B.

Discussion of the Policy Structure: The structure of the

optimal policy as stated in Theorem 3 is intuitive because here
we need to check whether the quantity mink∈{1,··· ,lm}(γ(k) + P (k)) which is the length of the shortest path from the current

location of the deployment operative to the sink, is below a

certain threshold.

Remarks:

• The optimal cost Jξ(0) of (13) is always less than or

3It is to be noted that all the Γ· terms appearing in (11), (12), (14) and (15) are independent of each other.

equal to that of (1), if the relay price ξ is same in both cases. This is because each policy for n = 1 will be a policy for n = 2 as well. • n = ∞ provides the best policy since there we consider information from all previous nodes.
Observation: With n = 1, r := y1 and γ := γ(1), the Bellman equation (11) reduces to:

Jξ r; P (1); γ = min ξ + θE(Γ1 + γ + P (1)) +

(1 − θ)EJξ 1; (γ + P (1)); Γ1 ,

θE Γr+1 + P (1)

+ (1 − θ)EJξ r + 1; P (1); Γr+1

(16)

Note that Jξ(r; P (1); γ) = P (1) + Jξ(r; 0; γ). Let us denote Jξ(r; 0; γ) := Jξ(r, γ). Now we can rewrite (16) as:

P (1) + Jξ r, γ = P (1) + min ξ + γ + θE(Γ1) + EJξ 1, Γ1 ,

θE Γr+1 + (1 − θ)EJξ r + 1, Γr+1

(17)

Thus, we obtain the Bellman equation (3).

Sum-power (n = 1)
Sum-power (n = 2)
Max-power (n = 1)
Max-power (n = 2)

ξ = 0.001 0.61946 0.50723 0.03336
0.02119

ξ = 0.01 0.65759 0.56834 0.13124
0.10686

ξ = 0.1 1.0414 1.0233 0.61693
0.60548

ξ=1 4.49396 4.43836 4.10798
4.09718

TABLE III COMPARISON OF Jξ(0) FOR n = 1 AND n = 2 FOR DIFFERENT ξ: SUM-POWER OBJECTIVE AND MAX-POWER OBJECTIVE. TWO DIFFERENT
TRANSMIT POWER SETS ARE USED FOR THE TWO OBJECTIVES.

requirement4. The study suggests that that, for small relay cost, n = 2 can provide a signiﬁcant percentage gain over the optimal cost for n = 1. Since at small ξ we tend to place more relays (but the relay cost is small compared to Jξ(0), see Table I and Table II), skipping relays could be useful. For large ξ, we place very few relays, but the relay cost will dominate. As ξ becomes very high, we will always place the relays periodically at every 10 steps, and nowhere else; hence the relay cost becomes independent of n. The little variation in power cost will be insigniﬁcant compared to large amount of relay cost.

B. Max-Power Objective

Here we are going to address the following problem:

min Eπ min max Γ(e) + ξN

(18)

π∈Π

p∈Pn e∈E(p)

We call maxe∈E(p) Γ(e) the “length” of the path p, and minp∈Pn maxe∈E(p) Γ(e) the length of the “shortest path”
from the source to the sink. Using notation and arguments

similar to those used in problem (13), we can write the

Bellman equations (14) and (15) and derive the structure of

the optimal node placement policy:

Theorem 4: Policy Structure: ({yk}lkm=1; {P (k)}lkm=1; {γ(k)}lkm=1), placement policy is the following:

For the the optimal

state relay

Place

a

relay

if

and

only

if

mink∈{1,··· ,lm} max{γ(k), P (k)} ≤ c({yk}lkm=1; {P (k)}lkm=1) where c({yk}lkm=1; {P (k)}lkm=1) is a threshold value.

Remark: Note that the Bellman equation (6) can be derived

from (14), with n = 1, r := y1, γ := γ(1) and P (1) = γmax.

C. Performance comparison between n = 1 and n = 2
We have made a comparative study of the performance of the optimal policies with memory 1 and the policies with memory 2. The results are shown in Table III. Here we have used the same model as used in Section III in the max-power case, but we have considered S = {0.1, 0.2, · · · , 2} mW in the sum-power case in order to avoid huge computational

D. Computational Issues
The dimension of the state space is 3n (increasing in n) in the value iteration, and hence the computational complexity and memory requirement increases with n. However, for any arbitrary n, we can reduce the value iteration to a function iteration in the same way as in (5) and (10), and reduce the dimension of the domain of the function to 2n (instead of 3n in the value iteration).
V. CONCLUSION
In this paper, we explored several sequential relay placement problems for as-you-go deployment of wireless relay networks, assuming very light trafﬁc. The problems were formulated as MDPs, optimal policies were derived, and the procedure illustrated via numerical examples. There are numerous issues to improve upon: (i) the light trafﬁc (“lone packet model”) assumption, (ii) the assumption of independent shadow fading from link to link, and (iii) the deployment failure issue. Extension to positive trafﬁc might require a different approach: perhaps one that requires a performance analysis model working in conjunction with an optimal sequential decision technique. We are addressing these issues in our ongoing work.
4If the transmit power levels in mW are integer multiples of some basic power level, the lengths of the shortest paths will also be integer multiples of that basic power level. If the transmit power levels do not satisfy this property, the number of possible shortest paths can be very large, leading to enormous computational complexity. This case will not arise in the max-power case since, in that case, a shortest path will always take its values from the set S.

APPENDIX A ONLY LINKS BETWEEN ADJACENT NODES PERMITTED
Proof of Lemma 1: Here we have an inﬁnite horizon total cost MDP with countable state space and ﬁnite action space. The assumption P of Chapter 3 in [9] is satisﬁed since the single-stage cost is nonnegative. Hence, by combining Proposition 3.1.5 and Proposition 3.1.6 of [9], we obtain the result.
Proof of Lemma 2: In value iteration (4), Jξ(0)(r, γ) := 0 is concave, increasing in γ, ξ and increasing in r and Jξ(0)(0) := 0 is concave, increasing in ξ. Suppose that Jξ(k)(r, γ) is concave, increasing in γ, ξ and increasing in r and Jξ(k)(0) is concave, increasing in ξ for some k ≥ 0. Note that E(Γr+1) is increasing in r.
Let us consider r1 > r2. We can write:

EJξ(k)(r1 + 1, Γr1+1)

=

g(r1 + 1, γ)Jξ(k)(r1 + 1, γ)

γ

≥

g(r1 + 1, γ)Jξ(k)(r2 + 1, γ)

γ

≥

g(r2 + 1, γ)Jξ(k)(r2 + 1, γ)

γ

= EJξ(k)(r2 + 1, Γr2+1)

where the ﬁrst inequality follows from the fact that Jξ(k)(r + 1, γ) is increasing in r for each γ, and the second inequality follows from the facts that Jξ(k)(r + 1, γ) is increasing in γ and Gr(·) is stochastically increasing in r. Hence, EJξ(k)(r + 1, Γr+1) is increasing in r. Hence, by (4), Jξ(k+1)(r, γ) is increasing in r.
We know that the minimum of two concave, increasing
functions is concave, increasing. Note that, each term in
the min{·, ·} of (4) is concave, increasing in γ, ξ. Hence, Jξ(k+1)(r, γ) in concave, increasing in ξ, γ and Jξ(k+1)(0) is concave, increasing in ξ. Now, since Jξ(k)(r, γ) ↑ Jξ(r, γ) for each r, γ and Jξ(k)(0) ↑ Jξ(0) (by Lemma 1), the results follow.
Proof of Theorem 1: By Proposition 3.1.3 of [9], if there
exists a stationary policy {µ, µ, · · · } such that for each state
(r, γ), the action chosen by the policy is the action that
achieves the minimum in the Bellman equation (3), then that
stationary policy will be an optimal policy. Hence, it is clear
that when the state is (r, γ), it is optimal to place the relay if
cp ≤ cnp, i.e.,

ξ + γ + Jξ(0) ≤ θE(Γr+1) + (1 − θ)EJξ (r + 1, Γr+1)

or, γ ≤ θE(Γr+1) + (1 − θ)EJξ (r + 1, Γr+1) − (ξ + Jξ(0))

Thus, the condition for placing a relay when the state

in (r, γ) becomes γ ≤ γth(r), where γth(r) is a threshold value. Now, by stochastic monotonicity of Γr in r, E(Γr+1) is increasing in r. Also, since Jξ(r, γ) is increasing in r, γ and Γr is stochastically increasing in r, EJξ (r + 1, Γr+1) also is increasing in r. Hence, γth(r) is increasing in r.

Proof of Lemma 3: Here we have an inﬁnite horizon

total cost MDP with countable state space and ﬁnite action

space. The assumption P of Chapter 3 in [9] is satisﬁed since

the single-stage cost is nonnegative. Hence, by combining

Proposition 3.1.5 and Proposition 3.1.6 of [9], we obtain the

result.

Proof of Lemma 4: Note that, in the value iteration (7),

J

(0) ξ

(r,

γ

,

γ

max

)

:=

0

is

increasing

in

r,

γ

and

γmax

and

concave, increasing in ξ. Suppose that for some k ≥ 0,

J

(k ξ

)

(

r,

γ

,

γ

max

)

is

increasing

in

r,

γ,

γmax

and

concave,

increasing

in

ξ.

Since

J

(k ξ

)

(

r,

γ

,

γ

max

)

is

increasing

in

r,

γ and Gr(·) is stochastically increasing in r, EJξ(k)(r +

1, Γr+1, γmax) is increasing in r. EJξ(k)(r + 1, Γr+1, γmax) is

also

increasing

in

γmax,

since

J

(k ξ

)

(

r,

γ

,

γ

max

)

is

increasing

in γmax. E(γmax, Γr+1) is increasing in γmax and also in-

creasing in r since Gr is stochastically increasing in r. On the

other hand, the ﬁrst term in the min{·, ·} of (7) is independent

of r, but increasing in γ, γmax and linearly increasing in ξ.

Now, minimum of two increasing functions is increasing and

the minimum of a linear function and a constant is concave. Hence, Jξ(k+1)(r, γ, γmax) is increasing in r, γ, γmax and concave, increasing in ξ. Since Jξ(k)(r, γ, γmax) ↑ Jξ(r, γ, γmax),
the results follow.

Proof of Theorem 2: By similar arguments as used in the

proof of Theorem 1, the condition for placing a relay at a state

(r, γ, γmax) is:

ξ + θE max{γ, γmax, Γ1} + (1 − θ)EJξ(1, Γ1, max{γ, γmax}) ≤ θE max{γmax, Γr+1} + (1 − θ)EJξ(r + 1, Γr+1, γmax) (19)
Note that E max{γmax, Γr+1} increases in r. Also, Jξ(r + 1, γ, γmax) is increasing in r and γ for all γmax. Hence, EJξ(r+1, Γr+1, γmax) is increasing in r, since Gr is stochastically increasing in r. Hence, the R.H.S of (19) is increasing in r and γmax. Now, if γ ≤ γmax, the L.H.S of (19) is independent of γ. Hence, the condition for placing the relay is r ≥ rth(γmax) where rth(γmax) is a threshold value. On the other hand, if γ > γmax, the L.H.S of (19) is independent of γmax and increasing in γ. Hence, we will place the relay if and only if γ ≤ γth(r, γmax) where γth(r, γmax) is a threshold value increasing in r and γmax.
APPENDIX B LINKS BETWEEN ANY PAIR OF NODES PERMITTED
Proof of Theorem 3: By similar arguments using convergence of the value iteration as in the proof of Lemma 2, we can claim that Jξ({yk}lkm=1; {P (k)}lkm=1; {γ(k)}lkm=1) is increasing in each of its arguments. Now, the condition for placing a relay is

that the ﬁrst term in the min{·, ·} of the R.H.S of (11) or (12)
is less than or equal to the second term. Since the ﬁrst term is increasing in mink∈{1,··· ,lm}(γ(k)+P (k)), the threshold nature of the optimal relay placement policy is evident.
REFERENCES
[1] M. Howard, M.J. Mataric´, and S. Sukhat Gaurav. An incremental selfdeployment algorithm for mobile sensor networks. Kluwer Autonomous Robots, 13(2):113–126, 2002.
[2] M.R. Souryal, J. Geissbuehler, L.E. Miller, and N. Moayeri. Real-time deployment of multihop relays for range extension. In Proc. of the ACM International Conference on Mobile Systems, Applications and Services (MobiSys), San Juan, Puerto Rico, June 2007, pages 85–98. ACM, 2007.
[3] Thorsten Aurisch and Jens To¨lle. Relay Placement for Ad-hoc Networks in Crisis and Emergency Scenarios. In Proc. of the Information Systems and Technology Panel (IST) Symposium. NATO Science and Technology Organization, 2009.
[4] Hengchang Liu, Jingyuan Li, Zhiheng Xie, Shan Lin, Kamin Whitehouse, John A. Stankovic, and David Siu. Automatic and robust breadcrumb system deployment for indoor ﬁreﬁghter applications. In Proc. of the ACM International Conference on Mobile Systems, Applications and Services (MobiSys), 2010.
[5] A. Sinha, A. Chattopadhyay, K.P. Naveen, M. Coupechoux, and A. Kumar. Optimal sequential wireless relay placement on a random lattice path. http://arxiv.org/abs/1207.6318.
[6] A. Bhattacharya and A. Kumar. QoS aware and survivable network design for planned wireless sensor networks. http://arxiv.org/abs/1110.4746.
[7] M. Shaked and J.G. Shanthikumar. Stochastic Orders. Springer, 2006. [8] P. Mondal, K.P. Naveen, and A. Kumar. Optimal Deployment of
Impromptu Wireless Sensor Networks. In Proc. of the IEEE National Conference on Communications (NCC),2012. IEEE, 2012. [9] D.P. Bertsekas. Dynamic Programming and Optimal Control, Vol. II. Athena Scientiﬁc, 2007. [10] E. Altman. Constrained Markov Decision Processes. Chapman and Hall/CRC; First Edition, 1999.

