BITMEX FUNDING RATE CORRELATION WITH BITCOIN EXCHANGE RATE

A PREPRINT

Sai Srikar Nimmagadda∗ Department of Computer Science and Engineering
Manipal Institute of Technology Manipal, 576104
sai.srikar@learner.manipal.edu

Ammanamanchi Pawan Sasanka† Department of Information and Communication Technology
Manipal Institute of Technology Manipal, 576104
pawan.sasanka@learner.manipal.edu

arXiv:1912.03270v1 [q-fin.ST] 26 Nov 2019

December 9, 2019
ABSTRACT
This paper examines the relationship between Inverse Perpetual Swap contracts, a Bitcoin derivative akin to futures and the margin funding interest rates levied on BitMex exchange. This paper proves the Heteroskedastic nature of funding rates and goes onto establish a causal relationship between the funding rates and the Bitcoin inverse Perpetual swap contracts based on Granger causality. The paper further dwells into developing a predictive model for funding rates using best-ﬁtted GARCH models. Implications of the results are presented, and funding rates as a predictive tool for gauging the market trend is discussed.
Keywords Bitcoin · BitMex · Interest rate · GARCH · Margin Lending · Heteroskedasticity · ARCH Test · Granger Causality test · Bitcoin Markets
1 Introduction
Bitcoin, a brainchild of Satoshi Nakamoto, is the ﬁrst cryptocurrency to be created based on the blockchain technology. The rise of Bitcoin has given birth to several alternative cryptocurrencies, and yet, Bitcoin still boasts of the highest market capitalization and is the leading cryptocurrency in the digital asset space. Bitcoin has outperformed several assets and asset classes, and due to increasing speculation, it is now gradually becoming one of the highest traded commodities. Increasing institutional involvement prompted by the classiﬁcation of Bitcoin as a commodity by SEC has become a proponent of this trend. The inﬂection of Bitcoin as a speculative asset has brought in a plethora of trading instruments with inverse Perpetual swaps offered by BitMex being the most traded Bitcoin derivatives in the market. The annual volume traded on this instrument on BitMex(Bitcoin Mercantile Exchange) has reached levels beyond 1 Trillion USD. It is one of the reasons for BitMex to be of high relevance in this paper. BitMex provides margin trading of a plethora of contracts, some of which are standard futures contracts with settlement date, and one with Perpetual contracts with no settlement date or expiry.
There are several other Bitcoin derivative products offered by Bitﬁnex, Deribit, and the more institutional CME and CBOE. However, none of the aforementioned match the trading volume generated by BitMex. There have been efforts to understand the relationship between spot markets and the derivatives market, speciﬁcally the Futures market of Bitcoin by [Baur and Dimpﬂ, 2019] and [Akyildirim et al., 2019]. Furthermore, there has been noteworthy literature in studying the relationship between margin lending and its implications on equities by [Fortune, 2003]. However, this relationship is seldom explored in Bitcoin and Cryptocurrency markets. Several papers are published aimed at further understanding the relationship of Bitcoin with factors such as volatility by [Dyhrberg, 2016] and [Katsiampa, 2017], On-Return volatility by [Bouri et al., 2016], liquidity by [Brauneis and Mestel, 2018], market inefﬁciency by [Wei, 2018] and transactions by [Greaves and Au, 2015]. There is limited research examining the relationship between an exchange and the price of
∗Sai Srikar Nimmagadda and Ammanamanchi Pawan Sasanka are recent graduates of Manipal Institute of Technology.
†

A PREPRINT - DECEMBER 9, 2019

Bitcoin as well. To further the literature of Bitcoin in ﬁnance, this study focuses on a novel aspect where the correlation of Bitcoin price with margin interest rates levied on BitMex Perpetual Swap Contracts is studied. The correlation of interest rates in liquidity which leads to price ﬂuctuations (volatility) is studied by [Brunnermeier and Pedersen, 2009]. The inﬂuence of interest rates on the liquidity of BitMex derivatives market is beyond the scope of this paper. The current study in the paper could be of signiﬁcant interest to market stakeholders and investors to improve their investment decisions. This paper deals with predominantly three aspects :
• To prove BitMex funding rates are Heteroskedastic in nature.
• To correlate the funding rates with market price of BTC/USD Perpetual swap contracts.
• Implication of these results and funding rates as a tool to predict market trends.
This paper is organized as follows Section 2 gives an introduction to BitMex Perpetual contracts and how funding works in the exchange. In Section 3, a summary of the data used, followed by a comprehensive discussion about the methodology is presented. Section 3 also has sub-sections that elaborate on the tests implemented. Section 4 comprises of the results obtained. Lastly, the conclusions are presented in Section 5.

2 BitMex, Perpetual Contracts and Funding

The Perpetual swap derivatives, unlike futures, are Perpetual and have no settlement date. Contrary to the Futures Contract, the Perpetual Contracts trade close to the Index price. Here the Index price is used as a reference. Such margin structure causes these contracts to not trade at markedly higher prices than the base price. Here, Funding acts as a way to anchor the Contracts to the spot-price. It acts as a balancing force. The Funding comprises of three 8 hour periods where payments are settled between the buyer and seller. A negative Funding Rate implies that short positions pay long positions and vice versa if the rate is positive. Furthermore, the Funding Payout is made only if the traders are holding a position during the Funding Timestamp. The 8 hourly Funding Timestamps are 4:00 UTC,12:00 UTC and 8:00 UTC. For example, if a trader takes a long position when the Funding rate is positive and holds the position until either of the payout Timestamps, the trader pays this Funding to the short positioned traders. The Funding according to [Bitmex, 2014] is calculated as follows

F unding = P ositionV alue ∗ F undingRate(F )

(1)

The Funding Rate is calculated based on the interest rate and Premium/Discount. The Funding rate acts as the interest rate to be paid between buyers and sellers akin to margin-trading markets. The Interest rate is the interest rates between the Base currency and Quote currency. The Interest Rate according to [Bitmex, 2014] is deﬁned as

InterestQuoteIndex − InterestBaseIndex

InterestRate(I) =

(2)

F undingInterval(F I)

where, Interest Base Index = The Interest Rate for borrowing the Base currency Interest Quote Index = The Interest Rate for borrowing the Quote currency Funding Interval = 3, because funding occurs three times a day.
Further, the Premium/discount component can be comprehended as Premium or discount to the Mark Price. The Premium Index, P , will be used to equalize the next Funding Rate to levels consistent to spot-price.

The Premium, according to [Bitmex, 2014], is calculated as follows :

(M ax(0, IBP − M arkP rice) − M ax(0, M arkP rice − IAP ))

P remiumIndex(P ) =

(3)

SpotP rice + F airBasis

where, Impact Bid Price(IBP) = The average ﬁll price to execute the Impact Margin Notional on the Bid side Impact Ask Price(IAP) = The average ﬁll price to execute the Impact Margin Notional on the Ask side

F airBasis = IndexP rice ∗ (1 + F undingBasis)

(4)

And

T imeU ntilF unding

F undingBasis = F ∗

(5)

FI

2

A PREPRINT - DECEMBER 9, 2019
The Impact Margin Notional is used to determine the impact of 0.1 BTC Notional on the depth of the order book and is used to measure Impact Bid or Impact Ask Price. Every minute, BitMex calculates Premium/Discount (P) component and Interest Component (I). The 8-hour TWAP of Premium/Discount component and the Interest component is calculated over the minute time series. Finally, a ±0.05% dampener is added to 8-hour components of Premium/Discount and Interest. The Funding Rate is then calculated as

F = P + clamp(I − P, 0.05%, −0.05%)

(6)

This Funding Rate is then used to determine the Funding amount to be paid or received by the trader over their positions at Funding Timestamp. It should be noted that BitMex caps the Absolute Funding Rates at not more than 75% of Initial Margin - Maintenance margin, furthermore, the Funding Rate can not exceed more than 75% of the maintenance margin.

3 Data and Methodology
3.1 Data
This paper uses 8-hour time series of Bitcoin price, unlike the standard daily or hourly, from Bitstamp, the largest exchange [Brandvold et al., 2015], as it is one of the exchanges used in the formulation of BitMex Composite Index. Its high availability and long record of exchange rates is also one of the reasons. The use of 8-hour time series facilitates smoother proof of correlation with Funding Rate, which also follows 8 hour periods. Along with the exchange rate the 8-hour time series of Funding Rate from BitMex is also used. The two time-series data span over the same periods From June 4th, 2016 to Oct 3rd, 2019 (3649 observations). The Figure 1 and Figure 2 plot the Funding rate, the Log Funding Rate respectively and Figure 3 plots the price of Bitcoin during the period of study. The log-returns of funding are calculated as

F unding(F ) = Ln(Ft) − Ln(Ft−1)

(7)

Figure 1: Logarithmic Funding rate 3

A PREPRINT - DECEMBER 9, 2019
Figure 2: Funding Rate
Figure 3: BTC Price against time 3.2 Methodology Funding rate functions as Interest rates for margin lending, see Section 2. The methodology to model Funding Rate as Heteroskedastic is adopted from the alternative hypothesis for Engle’s ARCH Test for heteroskedasticity[Engle, 1982]. Previous literature in modelling interest rates in the US[Marsh and Rosenfeld, 1983], [Chan et al., 1992] have shown no clear evidence of Conditional heteroskedasticity. Similarly, [Engle, 1982] ARCH test for heteroskedasticity in the residuals of US and UK real interest rates show no evidence either. However, there is evidence of this process in interest rates in the UK[Evans et al., 1994]. Therefore, it is essential to test for heteroskedasticity due to the varying nature of Interest rates. A positive test for heteroskedasticity allows modelling of Funding rate under GARCH process viable. However, after this, actual correlation causation between Funding Rate and the price of Bitcoin needs to be established to support the aim of the paper. It is done by ﬁrst testing for stationarity of the two series via ADF test, a form of unit root testing, followed by testing for Granger’s Causality test to prove Funding Rate Granger Causes Price. 3.2.1 Heteroskedasticity test The alternative test for Heteroskedastic process follows test for heteroskedasticity [Engle, 1982] where an uncorrelated time series can show dependency caused by a conditional variance process. The standard ARCH(1) process is deﬁned by
4

A PREPRINT - DECEMBER 9, 2019

rt = σtwt

(8)

wt = white noise

(9)

σt = ω + α1rt2−1

(10)

Here, rt is deﬁned as returns and et has 0 mean and variance of 1. Let the Funding rate time series be deﬁned as

yt = ut + t

(11)

ut = conditional mean t = innovation process with mean 0 the residual series is deﬁned by

et = yt − µˆt

(12)

This alternative hypothesis test is auto-correlation in the squared residuals, given by the regression

Ha = u2t = α0 + α1u2t−1 + α2u2t−2... + α3u2t−p + vt

(13)

Here ut is white noise error process,The null hypothesis is given by

Ha = α1 = α2 = ... = αm = 0

(14)

To conduct the alternative hypothesis, a lag of n is used, where n is determined by tests such as AIC [Akaike, 1974], where

AIC = 2k − 2Log(θˆ)

(15)

Here k is number of estimated parameters and θˆ cap as maximum log-likelihood. The Funding Rate is normalized as

F undingRate = F undingRatet − F undingRatet−1

(16)

The alternative ARCH test results are presented in Table 1

Table 1: ARCH Test results
Probability of F Probability of LM Statistic (Chi-Square(1))
Variables Probability of C value of alpha1(squared residuals)

0.000 0.000
0.000 0.284

Under the null hypothesis

α1! = 0

(17)

therefore showing ARCH effects and hence proving heteroskedasticity. α1 = 0.284 and is statistically signiﬁcant. Since α1 is signiﬁcant, R2, the coefﬁcient of determination will be relatively high, showing the presence of ARCH effects. Hence hypothesis of no ARCH effects is rejected. On modelling the ARCH process, the time series exhibits white noise.

5

A PREPRINT - DECEMBER 9, 2019
Figure 4: Time Series Analysis plots However, the squared of the series shows successive decaying lags.
Figure 5: Time Series Analysis plots after squared series The Empirical tests for conditional heteroskedasticity process are positive when squared plots of Auto Correlation(ACF) and Partial Auto Correlation (PACF) show substantial evidence via the decay of successive lags. 3.2.2 Unit Root Test To perform the Granger Cause test, the two time-series data of Funding Rate and Exchange Rate are to be tested for stationarity. If the time-series exhibits non-stationarity, it is transformed into a stationary series. ADF test [Dickey and Fuller, 1979] on both time-series convey the following results. The lag lengths are determined using AIC [Akaike, 1974]. Funding Rate is stationary at level and I(1) via ADF test of unit root testing and Exchange Rate is stationary at I(1) only. Since p-values are less than 0.05 and are signiﬁcant, the null hypothesis is rejected.
6

A PREPRINT - DECEMBER 9, 2019

Table 2: Stationarity in Funding Rate

Test for Unit root in
Level Level Level First difference First difference First difference

Exogenous
Constant Constant and Linear Trend
None Constant Constant and Linear Trend
None

t-Statistic
-9.176579 -9.345478 -9.010413 -16.35916 -16.35687 -16.6138

Probability
0.0000 0.0000 0.0000 0.0000 0.0000 0.0000

1% level
-3.431965 -3.960568 -2.56599 -3.431971 -3.960576 -2.565601

5% level
-2.862139 -3.411044 -1.94011 -2.86141 -3.411048 -1.940911

10% level
-2.567132 -3127399 -1.616641 -2.567134 -3.127342 -1.616641

Table 3: Stationarity in Exchange Rate

Test for Unit root in
Level Level Level First difference First difference First difference

Exogenous
Constant Constant and Linear Trend
None Constant Constant and Linear Trend
None

t-Statistic
-1.743900 -2.234493 -1.617692 -10.16478 -10.16079 -10.14073

Probability
0.49090 0.4696 0.0998 0.0000 0.0000 0.0000

1% level
-3.431971 -3.960576 -2.565601 -3.431971 -3.960576 -2.565601

5% level
-2.862141 -3.411048 -1.940911 -2.862141 -3.411048 -1.940911

10% level
-2.567134 -3.127342 -1.616641 -2.567134 -3.127342 -1.616641

3.2.3 Granger Causality
To determine the Granger Causality test[Granger, 1969], [Granger, 1980] is performed over the stationary time-series of ﬁrst differenced Funding Rate and ﬁrst differenced Exchange Rate. Here, again the optimum lags obtained from AIC [Akaike, 1974] is applied to get the best ﬁt.

Table 4: Causality test results

Null Hypothesis
8 Hour price does not Granger Cause FundingRate Funding Rate does not Granger Cause 8 hour price

F-statistic
4.28999 7.11106

Probability
5.E-08 1.E-15

The P-values for both Granger Causes fall under the critical p-value implying Granger Causality exists between Funding Rate and Price. To add on the ﬁndings, the results suggest that even the exchange rate happens to Granger Cause Funding Rate.
4 Results
Under the null of white noise, GARCH(p,q) effects are locally equivalent alternatives to ARCH(q). This is implied from the equivalence of white noise disturbances against GARCH(p,q) disturbances in linear regression models to disturbances of ARCH(q) [Lee, 1991]. The tests for ARCH effects are generally valid to GARCH effects as well, thereby validating previous tests of ARCH models to GARCH models. To conclude the selection of model, various parameters such as AIC [Akaike, 1974], HQC [Hannan and Quinn, 1979] and SIC [Schwarz, 1978] under normal (Gaussian) distributions are used to get the best ﬁt. An EGARCH(1,1) model is proven to generate the best ﬁt to model Funding Rate. The AIC, HQC and SIC of the models are listed in Table 5, where the EGARCH model has the most suitable Information Criterion.

7

A PREPRINT - DECEMBER 9, 2019

Table 5: Information Criterion for various models

Model
GARCH(1,1) TARCH
EGARCH(1,1) PARCH(1,1,1) IGARCH(1,1)

AIC
-11.56876 -11.57676 -11.60566 -11.56799 -11.45785

SIC
-11.56366 -11.56826 -11.59716 -11.55949 -11.45615

HQC
-11.57469 -11.57373 -11.60263 -11.57273 -11.45725

From the above table, the EGARCH(1,1) model is more suitable for modelling Funding Rate after evaluating AIC, SIC and HQC for their least values. An EGARCH model or an Exponential GARCH model [Nelson, 1991] is deﬁned by :

logσt2 = ω + α1Zt2−1 + γ1[|Zt−1| − E(|Zt−1|)] + β1ogσt2−1

(18)

for α1 > 0, β1 > 0, γ1 > 0 and ω > 0. From our model the values are α1 = 0.1291, β1 = 0.5466, γ1 = 0.4126, ω = 0.5218 The results present a suitable model for Funding Rates, and the ﬁndings could be implemented in predicting
Funding Rates, and due to causality correlation, in turn, forecast trends in the Bitcoin derivative markets.

5 Conclusion
The paper begins with a proof of heteroskedasticity of Funding Rates to correlating Funding Rates to Exchange Rate and ﬁnally, modelling the Funding rates. This could be instrumental in further forecasting trends of Bitcoin as Extremely high Funding Rates would causate high prices and vice versa due to correlation. The behaviour Funding Rates could be of greater interest in market making and Funding payouts which opens up scope to further the literature of Funding Rates and its effect on the market. The effect on Funding payouts is of vital interest as BitMex, due to its inherent Peer-to-Peer lending enables generating interest on margin lent. Future work would be to evaluate returns from a model where positions are decided by Funding rate values and then compared to the Naive Buy and Hold method. By predicting Funding Rates, a market participant could make more informed decisions regarding their positions and future investments. This paper could be of signiﬁcant interest to Financial Institutions venturing into Bitcoin derivatives market.

References

[Akaike, 1974] Akaike, H. (1974). A new look at the statistical model identiﬁcation. IEEE Transactions on Automatic Control, 19(6):716–723.

[Akyildirim et al., 2019] Akyildirim, E., Corbet, S., Katsiampa, P., Kellard, N., and Sensoy, A. (2019). The development of bitcoin futures: Exploring the interactions between cryptocurrency derivatives. Finance Research Letters.

[Baur and Dimpﬂ, 2019] Baur, D. G. and Dimpﬂ, T. (2019). Price discovery in bitcoin spot or futures? Journal of Futures Markets, 39(7):803–817.

[Bitmex, 2014] Bitmex (2014). Bitmex Perpetual Contract Guide. perpetualContractsGuide#Funding-Rate-Calculations.

https://www.bitmex.com/app/

[Bouri et al., 2016] Bouri, E., Azzi, G., and Dyhrberg, A. H. (2016). On the return-volatility relationship in the bitcoin market around the price crash of 2013.

[Brandvold et al., 2015] Brandvold, M., Molnár, P., Vagstad, K., and Andreas Valstad, O. C. (2015). Price discovery on bitcoin exchanges. Journal of International Financial Markets, Institutions and Money, 36(C):18–35.

[Brauneis and Mestel, 2018] Brauneis, A. and Mestel, R. (2018). Price discovery of cryptocurrencies: Bitcoin and beyond. Economics Letters, 165(C):58–61.

[Brunnermeier and Pedersen, 2009] Brunnermeier, M. K. and Pedersen, L. H. (2009). Market liquidity and funding liquidity. Review of Financial Studies, 22:2201–2238. Market liquidity and the funding of traders are mutually reinforcing, giving rise to "liquidity phenomena" like fragility, commonality and ﬂight to quality.

[Chan et al., 1992] Chan, K. C., Karolyi, G. A., Longstaff, F. A., and Sanders, A. B. (1992). An empirical comparison of alternative models of the short-term interest rate. The Journal of Finance, 47(3):1209–1227.

8

A PREPRINT - DECEMBER 9, 2019
[Dickey and Fuller, 1979] Dickey, D. A. and Fuller, W. A. (1979). Distribution of the estimators for autoregressive time series with a unit root. Journal of the American Statistical Association, 74(366):427–431.
[Dyhrberg, 2016] Dyhrberg, A. H. (2016). Bitcoin, gold and the dollar – a garch volatility analysis. Finance Research Letters, 16:85 – 92.
[Engle, 1982] Engle, R. (1982). Autoregressive conditional heteroscedasticity with estimates of the variance of united kingdom inﬂation. Econometrica, 50(4):987–1007.
[Evans et al., 1994] Evans, L., Keef, S., and Okunev, J. (1994). Modelling real interest rates. Journal of Banking and Finance, 18(1):153–165.
[Fortune, 2003] Fortune, P. (2003). Margin requirements across equity-related instruments: how level is the playing ﬁeld? New England Economic Review, pages 31–50.
[Granger, 1969] Granger, C. (1969). Investigating causal relations by econometric models and cross-spectral methods. Econometrica, 37(3):424–38.
[Granger, 1980] Granger, C. (1980). Testing for causality: A personal viewpoint. Journal of Economic Dynamics and Control, 2(1):329–352.
[Greaves and Au, 2015] Greaves, A. S. and Au, B. (2015). Using the bitcoin transaction graph to predict the price of bitcoin.
[Hannan and Quinn, 1979] Hannan, E. J. and Quinn, B. G. (1979). The determination of the order of an autoregression. Journal of the Royal Statistical Society. Series B (Methodological), 41(2):190–195.
[Katsiampa, 2017] Katsiampa, P. (2017). Volatility estimation for bitcoin: A comparison of garch models. Economics Letters, 158(C):3–6.
[Lee, 1991] Lee, J. H. H. (1991). A lagrange multiplier test for garch models. Economics Letters, 37(3):265–271. [Marsh and Rosenfeld, 1983] Marsh, T. A. and Rosenfeld, E. R. (1983). Stochastic processes for interest rates and
equilibrium bond prices. Journal of Finance, 38(2):635–46. [Nelson, 1991] Nelson, D. B. (1991). Conditional heteroskedasticity in asset returns: A new approach. Econometrica,
59(2):347–70. [Schwarz, 1978] Schwarz, G. (1978). Estimating the dimension of a model. The Annals of Statistics, 6(2):461–464. [Wei, 2018] Wei, W. C. (2018). Liquidity and market efﬁciency in cryptocurrencies. Economics Letters, 168(C):21–24.
9

