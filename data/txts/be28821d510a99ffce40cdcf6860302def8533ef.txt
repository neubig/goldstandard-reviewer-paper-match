From Recommendation Systems to Facility Location Games
Omer Ben-Porat, Gregory Goren, Itay Rosenberg and Moshe Tennenholtz
Technion - Israel Institute of Technology Haifa 32000 Israel
{omerbp@campus,itayrose@campus,gregory.goren@campus,moshe@ie}.technion.ac.il

arXiv:1809.02931v1 [cs.GT] 9 Sep 2018

Abstract
Recommendation systems are extremely popular tools for matching users and contents. However, when content providers are strategic, the basic principle of matching users to the closest content, where both users and contents are modeled as points in some semantic space, may yield low social welfare. This is due to the fact that content providers are strategic and optimize their offered content to be recommended to as many users as possible. Motivated by modern applications, we propose the widely studied framework of facility location games to study recommendation systems with strategic content providers. Our conceptual contribution is the introduction of a mediator to facility location models, in the pursuit of better social welfare. We aim at designing mediators that a) induce a game with high social welfare in equilibrium, and b) intervene as little as possible. In service of the latter, we introduce the notion of intervention cost, which quantiﬁes how much damage a mediator may cause to the social welfare when an off-equilibrium proﬁle is adopted. As a case study in high-welfare low-intervention mediator design, we consider the one-dimensional segment as the user domain. We propose a mediator that implements the socially optimal strategy proﬁle as the unique equilibrium proﬁle, and show a tight bound on its intervention cost. Ultimately, we consider some extensions, and highlight open questions for the general agenda.
1 Introduction
Publishing, blogging, and content creation are fundamental to data science. Indeed, many of the AI-based recommendation systems aim at matching users with data created by content providers. While at ﬁrst glance this task might be viewed as purely computational, a major topic that should be tackled is the participants’ incentives.
To illustrate such incentives, consider the following example inspired by Hotelling’s seminal work (Hotelling 1929). A blogging recommendation system recommends users with relevant blogs. Two players (i.e., publishers/blog owners) write one blog each. For simplicity, assume every blog is represented as a point along the [0, 1] segment, e.g., the mix between news and articles in the blog. Thus, each player selects a point in that segment. A set of users, where user preferences are uniformly distributed along the same segment, approach the recommendation system to have a recommendation for one blog. The social cost of the users is de-

ﬁned as the sum of absolute distances between preferences and recommended contents. As Hotelling demonstrates, the only pure Nash equilibrium (PNE hereinafter) is obtained when both players select the center of the segment, producing identical content. The social cost of the PNE proﬁle is far from optimum, and users effectively suffer from strategic behavior of the players.
The difference between this example and the one considered by Hotelling in his seminal work is that in modern applications, users are not explicitly exposed to players’ content, but rather the recommendation system serves as a mediator for matching users with content. However, despite their commercial success, current recommendation systems basically (very efﬁciently) implement the above principle: users are matched with the “closest” content. A prominent example is the vector space model for document retrieval in response to a user query (Salton, Wong, and Yang 1975). Indeed, the recommendation system is just a tool for having the users “choose” the offered content most similar to their taste.
1.1 The connection to facility location games
Facility location games (Anderson, De Palma, and Thisse 1992; Brenner 2010; Fournier and Scarsini 2014), which are extensively studied in economics, operations research and computer science, portray recommendation systems with strategic content providers incredibly well, due to the nature of recommendation systems described above. This is true since in many (and perhaps even most) recommendation systems, the computational task of matching users with content is carried out by modeling both into a joint metric space. In the vast majority of facility location games literature, it is assumed that users are attracted to their nearest facility1. In the example above, this amounts to each user selecting the closest blog to her preference.
Given a strategy proﬁle, i.e., the selection of each player for a particular mix of news and articles in her blog, the best (in terms of social cost) recommendation system matches each user with the nearest blog to her preference. However, the way the recommendation system operates affects the strategic behavior of players, and more precisely redeﬁnes player payoffs. As a result, it may induce a game with a dif-
1Some exceptions appear in Subsection 1.4.

ferent set of PNE, potentially with improved social welfare (i.e., the social cost with negative sign). This calls for the design of a mediator that takes into account strategic behavior of players, aiming at achieving low social cost in equilibrium.
1.2 Our agenda: High welfare low intervention mediator design
Our conceptual contribution is the introduction of a mediator to facility location models, in the pursuit of better outcomes for recommendation systems with strategic content providers. We aim at designing mediators that a) induce a game with high social welfare in equilibrium, and b) intervene as little as possible.
To better describe the latter, let NIME be the No Intervention Mediator, namely the default mediator that displays each user with its nearest content. A question in this regard is whether a mediator that intervenes with the process can do better than NIME, in terms of social welfare. Clearly, one can design a mediator that dictates each player which content to select, thereby forcing the players to any desired strategy proﬁle. Consider the DICT mediator that operates as follows: it commands each player to play a particular strategy, and if she disobeys DICT directs no user to her content. Indeed, by adopting DICT the mediator designer is guaranteed to have any speciﬁc strategy proﬁle as the unique PNE of the induced recommendation game. However, this is a huge and potential harmful intervention, and doing so may lead to poor performance in case that speciﬁc proﬁle is not materialized. Crucially, this can happen even when the players are rational, but some of the assumptions the mediator holds regarding the players are violated, e.g., players have constraints on their strategy space, slightly different payoff functions, they are able to form coalitions and so on.
A major aspect of our approach is the quantiﬁcation of intervention cost. Given the above intuition, we deﬁne the intervention cost as the maximal increase in user social cost, which might be caused if the players use arbitrary strategies (i.e., select arbitrary contents). Formally, let M denote a mediator, S be the set of all strategy proﬁles, s ∈ S be a strategy proﬁle, and let SC(M, s) denote the social cost under M and s. The intervention cost of a mediator M is deﬁned as sups∈S{SC(M, s) − SC(NIME, s)}. Evidently, NIME has a zero intervention cost and high social cost, and serves as a benchmark for low intervention cost. On the other hand, DICT has high intervention cost but low social cost (when dictating the socially optimal strategy proﬁle), and it serves as a benchmark for low social cost. The main challenge in our agenda is the design of a mediator with low intervention cost and low social cost in equilibrium.
1.3 Our results
This paper presents a case study in high welfare low intervention mediator design. The mathematical model we adopt in service of the above is based on pure location Hotelling games (Hotelling 1929), with the [0, 1] segment. Section 2 presents a formal mathematical model for the setting, stating former widely-known results for pure Hotelling games (or

equivalently, recommendation games with NIME as a mediator) on the segment with uniform user distribution. In addition, in Subsection 2.3 we deﬁne the intervention cost, and bound the intervention cost of DICT.
The main technical results of the paper appear in Section 3. We introduce the Limited Intervention Mediator, LIME. We provide the intuition behind it, as well as a thorough example to illustrate how it operates. We then prove that the game induced under LIME possesses a unique PNE, which attains the minimal social cost. Then, we establish upper and lower bounds on its intervention cost, which are almost tight. We show that not only is its intervention cost lower than that of DICT for every n, it is also O( n1 ). Since DICT and LIME have the same social cost under (the unique) PNE proﬁle, the results given in this section provide a highly encouraging answer to the challenge given above.
We subsequently study three natural extensions of the basic setting. First, we discuss neutral mediators. Informally, a mediator is neutral if when two players swap their strategies, the mediator’s direction also swaps. We show an impossibility result for neutral mediators that aim at optimizing the social cost in the two-player case. Second, we design a mediator with a conﬁgurable intervention cost. This mediator is important where e.g. one seeks to design a mediator that minimizes social cost but is penalized for intervention (similarly to regularization in machine learning models). We show that for some cases of n, it induces Pareto optimal solutions for the setting. Third, we consider nonuniform user distributions. We propose the General Limited Intervention Mediator, which depends on the distribution quantiles solely. We then prove that it always induces a game with a unique PNE. This becomes even more striking when one recalls that PNE may not exist in facility location games (with no mediator) (Osborne 1993), and are generally hard to characterize (see e.g. (Shilony 1981; Ewerhart 2015)). We bound its intervention cost (for the uniform distribution), and show that its intervention cost is lower than that of DICT.
From an algorithmic perspective, we deal with onedimensional problems. This may sound disappointing, but recall that we intentionally focus on relatively simple, structured problems, and that this domain is extremely wellstudied in the facility location literature. Due to space constraints, the proofs are deferred to the appendix.
1.4 Related work
The notion of a mediator in a game-theoretic setting was ﬁrst proposed by Aumann in his seminal work on Correlated Equilibrium (Aumann 1974). In the setting Aumann considers, a mediator may send signals to the players, where the signal is designed to drive the players to achieve better payoffs. The work of Shoham and Tennenholtz (1995) grants stronger capabilities to the mediator, by setting constraints on participants’ behavior. A different type of mediator, considered by Monderer and Tennenholtz (2004), is allowed to change player payoffs. As in our work, the mediator is designed to “force” players into playing some desired subset of their strategy sets with minimal interference with the payoff functions. Unlike the above work, where the mediator inter-

venes with the outcome of the game to improve the social welfare of the (strategic) players, in the model we study the mediator intervenes in order to improve the social welfare of the (non-strategic) users, as we describe next.
The work of Ben-Basat, Tennenholtz, and Kurland (2017) introduces a formal model of adversarial information retrieval. Each author (a player) has several strategies, where each strategy corresponds to a document she can publish. Each pair of document-query (where a document is a player’s strategy and a query represents a user) has a score, termed “quality”, which measures the extent to which the document is relevant to the query. The mediator (i.e., search engine) provides each user the document with the highest quality relative to her query, among those selected under the corresponding strategy proﬁle. In their model, every author seeks to maximize a function that takes into account the number of queries for which her document is the most relevant (representing users directed to that document by the mediator) along with the document-query quality.
As Ben-Basat, Tennenholtz, and Kurland show, displaying each user with the document with the highest quality (i.e., no intervention) may lead to deteriorated content and low user utility. They argue against no intervention, and claim that introducing randomization into the mediator leads to an overall user utility that transcends that of no intervention at all. Nevertheless, they neither a) provide a systematic approach for doing so under PNE proﬁles; nor b) show that a PNE always exists. Recently, Ben-Porat, Rosenberg, and Tennenholtz (2018) claim in favor of no intervention in a similar model, and show that no intervention policy leads to convergence of any better-response dynamics; thus, a PNE is guaranteed to exist. Importantly, Ben-Basat, Tennenholtz, and Kurland (2017) as well as Ben-Porat, Rosenberg, and Tennenholtz (2018) do not consider the task of mediator design for better outcomes.
The work of Ben-Porat and Tennenholtz (2018a) is the ﬁrst to consider mediator design in recommendation systems with strategic content providers, in a mathematical model that extends that of Ben-Basat, Tennenholtz, and Kurland (2017) and Ben-Porat, Rosenberg, and Tennenholtz (2018). They highlight several fairness-related properties that a mediator should arguably satisfy, along with the requirement of PNE existence. They show that the no-intervention mediator satisﬁes the fairness-related properties, but may lead to a game without PNEs. Then, they design a mediator that is based on the Shapley value (Shapley 1952), prove it satisﬁes the fairness properties and the game it induces always possesses a PNE. On the other hand, Ben-Porat and Tennenholtz (2018a) take an axiomatic approach, and do not address user utility as one of the axioms. Moreover, they show that the user utility under their proposed mediator can be arbitrarily low. In contrast, this paper stems from a user utility optimization point of view, and so are the solution concepts it proposes.
Several extensions of pure location Hotelling games have been suggested recently, assuming non-deterministic user behavior (Feldman, Fiat, and Obraztsova 2016; Shen and Wang 2017; Ben-Porat and Tennenholtz 2017). More precisely, users do not select their nearest facility, but rather

have a reaction function, mapping every strategy proﬁle to a distribution over player indices, possibly skipping all options. The work of Ben-Porat and Tennenholtz (Ben-Porat and Tennenholtz 2017) associates users with a reaction function motivated by decision theory literature, and shows that the induced facility location game always possesses a PNE, regardless of the metric space in which users are embedded. Shen and Wang (2017) show a result of similar ﬂavor for a different reaction function. Interestingly, every reaction function can be implemented as a mediator. Unlike this line of research, in this paper (as in the information retrieval setting) the mediator is required to direct users to facilities w.p. 1, i.e., skipping all facilities is not an option. We elaborate on the latter in Section 5.
Finally, a different line of research in the algorithmic game theory literature (Nisan et al. 2007) is the study of facility location, in the context of approximate mechanism design without money (Procaccia and Tennenholtz 2009). That literature deals with the case where only one entity dictates the place of a facility (or several facilities), while user preferences are their private information and are strategically reported (see,e.g., (Schummer and Vohra 2007)). In contrast, the setting we consider is a full information setting.

2 Mathematical Formulation

In this section we introduce our formal mathematical model. The non-cooperative game we consider is formally deﬁned as follows:

1. A continuous density function g over the unit interval [0, 1], representing user distribution.

2. A set of players [n] = {1, 2, . . . , n}, where the pure2 strat-

egy set of player i ∈ [n] is Si = [0, 1]. It will sometimes

be convenient to say that player i has/owns a facility in

si if the strategy she adopts is si. The set of all strategy

proﬁles

is

denoted

by

S

def
=

n
∏i=1

Si.

3. A mediator M is a mapping from the set of strategy pro-
ﬁles and users to the set of distributions over player indices, i.e., M ∶ S × [0, 1] → ∆([n]). Given a pure strategy proﬁle s = (s1, . . . , sn) ∈ S, a user t ∈ [0, 1] and a player i ∈ [n], we denote by M(s, t)i the probability that M will send user t to player i under the strategy proﬁle
s.

4. Given a pure strategy proﬁle s ∈ S, the payoff of each

player i is the proportion of users M directs to her facility.

Namely,

πi(s)

=

1
∫0

M(s,

t)i

⋅

g(t)dt.

Each

player

aims

at maximizing her payoff.

According to these assumptions, every game is fully described by the number of players, the mediator, and the user distribution function, .i.e., G (n, M, g). In addition, unless stated otherwise, g is the uniform distribution; hence, for convenience, we shall use the notation G (n, M) to describe the n-player game induced by selecting M as a mediator.

2In this paper we discuss pure strategy proﬁles only.

Number of players
n=2 n=3 n≥4

Optimal
18 1 12 1 4n

Social Cost (former results)

NIME, best PNE NIME, worst PNE

14

14

no PNE exists

1 4(n−2)

1 4⌈n 2⌉

Intervention Cost (Sections 2 and 3)

In(DICT)

In(LIME)

14
≥ 0.278 ≥ 1 2 − 3 4n + 1 4n2

3 16
∈ (0.236, 0.278) ∈ 2nn−24 , 2nn−23.5

Table 1: A summary of former results known for pure location Hotelling games, and the results of this paper. The social cost is given for three scenarios: the optimal social cost, for the proﬁle on (see Subsection 2.2); the best PNE in terms of social cost under NIME; and the worst PNE in terms of social cost under NIME. Under both DICT and LIME, the induced game possesses a unique PNE, with social cost of 1 4n, namely the optimal social cost. For these mediators, the table reports the bounds on the
intervention cost (see Subsection 2.3) as obtained in Sections 2 and 3.

Equilibrium For a vector v = (v1, . . . vn), we denote by

v−i

def
=

(v1, . . . vi−1, vi+1, . . . vn)

the

vector

that

does

not

contain the i-th coordinate of v.

A strategy proﬁle s ∈ S is called a pure Nash equilibrium

(PNE hereinafter) if for every i ∈ [n] and every s′i ∈ Si it holds that πi(s′i, s−i) ≤ πi(s). We say that player i has a beneﬁcial deviation under a strategy proﬁle s = (si, s−i) if

there exists s′i ∈ Si such that πi(s′i, s−i) > πi(s).

2.1 Social cost

We remark that any mediator always directs a user to one of

the facilities selected by the players; thus, the player payoffs

sum

to

one

under

every

strategy

proﬁle

s,

i.e.,

n
∑i=1

πi(s)

=

1. Consequently, we view the social cost of the users as the

public welfare. In the blogging example given above, we

consider the distance between a user’s preferences and the

actual attribute of the blog as the extent to which she is sat-

isﬁed with that blog. Clearly, this perspective is identical to

the one considered by (Hotelling 1929), albeit the motiva-

tion of (Hotelling 1929) is the physical world. Motivated by

transportation cost, Hotelling (Hotelling 1929) deﬁnes the

cost a customer (i.e., a user) suffers as the distance he has

to travel to reach his nearest facility. This notion is naturally

extended to the mediated setting.

Deﬁnition 1 (Social cost). Given a strategy proﬁle s and a mediator M, the social cost is the sum of distances users must travel to reach their recommended facility. Formally, SC ∶ S → R≥0 is deﬁned by

1n

SC(M, s) =

M(s, t)i ⋅ si − t g(t)dt.

0 i=1

2.2 No intervention mediator

We denote by NIME the No-Intervention Mediator. Namely, NIME sends every user to his nearest facility, breaking ties uniformly. Formally,

1 si−t ≤mini′ si′ −t NIME(s, t)i = ∑nj=1 1 sj −t ≤mini′ si′ −t .

By implementing NIME we recover the non-mediated ver-

sion of the setting, where under every strategy proﬁle each

user is attracted to his nearest facility, as is in pure location Hotelling games. Given n, we denote by on = (on1 , . . . , onn),

where

oni

def
=

22i−n1 ,

the

sequence

of

n-socially

optimal

loca-

tions. These are optimal in the following sense:

Claim 1 (e.g. (Ben-Porat and Tennenholtz 2018b)). It holds that SC(NIME, on) = infs∈S SC(NIME, s) = 41n .
It turns out that this is the unique socially optimal proﬁle, up to renaming the players. Moreover, for any ﬁxed strategy proﬁle, it is apparent that employing NIME results in the lowest possible social cost w.r.t. that particular proﬁle. Namely,
Claim 2. For every strategy proﬁle s and every mediator M, it holds that SC(NIME, s) ≤ SC(M, s).
However, as we show later, the set of PNE depends on the mediator; hence, a PNE under NIME may not be in equilibrium under another mediator, and vice versa. Since we care about the social cost in equilibrium, this turns out to be crucial. Pure location Hotelling games (or equivalently G(n, NIME) for any n) have been studied extensively in the past decade, and its equilibrium structure is widely known (see, e.g. (Eaton and Lipsey 1975; Fournier and Scarsini 2014; Ben-Porat and Tennenholtz 2018b)). For completeness, we state the following well-known results for G(n, NIME): ● The only PNE for n = 2 is (1 2, 1 2); ● There is no PNE for n = 3, although a mixed NE exists (Shaked 1982); ● For n ∈ {4, 5} a unique PNE exists (up to renaming the players). If n ≥ 6, there are inﬁnite PNEs. For an elaborated discussion of these results, the reader is referred to (Eaton and Lipsey 1975). Table 1 summarizes the social cost for NIME. Notice the social cost under the worst PNE, which is a factor of two of the optimal feasible social cost.
2.3 Intervention cost
Indeed, a mediator that implements the n-socially optimal locations as a PNE can greatly decrease the social cost. By intervening with the market and using a basic punishing mechanism, one can drive the players to play any arbitrary proﬁle, by intervention that makes that proﬁle the only PNE.
We denote by DICT the mediator3 that dictates the strategy proﬁle on, the n-socially optimal locations. Namely, DICT operates as follows: given a strategy proﬁle s, let A = {i ∶ si = oni }. If A is not empty, DICT(s) directs every
3One can think of other dictatorship mediators as well, by varying the punishment in case of disobedience.

user t to its nearest facility from those of the players in A, i.e., DICT(s, t)i = 1i∈A ⋅ NIME(s ∩ A, t)i. Otherwise, if A is empty, it directs every user to a player selected at random. It is apparent that
Claim 3. Consider G(n, DICT) for any n ≥ 2. The unique PNE is on.
However, sometimes the strategy proﬁle being materialized is not the equilibrium proﬁle. As elaborated above, a mediator intervening with the system to decrease social cost may hence have implicit negative effects. It is therefore highly desired to design a mediator that not only drives the players to a “good” equilibrium (in terms of social cost), but also does not intervene “that much”. To quantify the extent to which a mediator intervenes with the natural market, we introduce the following measure.
Deﬁnition 2 (intervention cost). The intervention cost of a mediator M is the maximum difference between the social cost of M and that of NIME (i.e., the No-Intervention Mediator), when the maximum is taken over all strategy proﬁles. Formally,

In(M) d=ef sup {SC(M, s) − SC(NIME, s)} , s=(s1 ,...sn )∈S

where the subscript n emphasizes the dependency on the number of players.

Indeed, the intervention cost captures the measure of intervention by the mediator. By deﬁnition of NIME, it has an intervention cost of zero, i.e., In(NIME) = 0 for every n. In addition, the intervention cost as deﬁned above also demonstrates the great amount of intervention employed by DICT.
To illustrate it, consider the consequences of a strategy proﬁle other than on being materialized under DICT. Take for example the two-player game, G(2, DICT), and the strategy proﬁle s = (s1, s2) = (0, 1). This proﬁle represents the case where the offered contents are varied to the extreme. Both players defy their commands; thus, DICT sends every
user to a facility selected uniformly at random, and every user travels a distance of 1 2 in expectation. Summing over all users we get, SC(DICT, s) = 1 2. The social cost under no mediation is SC(NIME, s) = 1 4; hence, the intervention cost of DICT is lower bounded by SC(DICTs) − SC(NIME, s) = 1 4. As we show in the appendix, for n = 2 this is not only a lower bound but rather the actual intervention cost of DICT.
In fact, this proﬁle can be extended to any n-player game, showing that In(DICT) ≥ 1 4 for any n. However, using a different construction we show a much tighter bound that depends on n. More precisely,

Lemma 1.

For any n

≥

3, it holds that In(DICT)

≥

1 2

−

43n + 4n12 .

Due to its high intervention cost (among other properties) using DICT as a mediator may not be the best solution. In the next section we devise a mediator that implements on as the unique equilibrium, but unlike DICT has a substantially low intervention cost.

Algorithm 1: Limited Intervention Mediator

Input: A strategy proﬁle s and a user t

Output: A location in s

1 if ∃i ∈ [n − 1] such that t ∈ 22i−n1 , 22i+n1

2

l←s∩

0,

2i−1 2n

,r ←s∩

2i+1 2n

,

1

then

3 if l ≠ ∅ and r ≠ ∅ then

4

return NIME(l ∪ r, t)

5 else if l ≠ ∅ or r ≠ ∅ then

6

w.p. 1 − return NIME(l ∪ r, t), otherwise

return random(s, t)

7 else

// all facilities are inside 22i−n1 , 22i+n1

8

return NIME(s, t)

9 else

// t is outside ∪i∈[n−1] 22i−n1 , 22i+n1

10 return NIME(s, t)

11 Function random(s, t):

12 return an element from s u.a.r.

3 Limited Intervention Mediator (LIME)
In this section we take advantage of the game structure to devise a mediator that encourages the players to select the n-socially optimal locations on, but intervenes substantially less than DICT. This is done by exploiting the equilibria structure under no mediation. According to the characterization of PNE proﬁles given in (Eaton and Lipsey 1975), under NIME a proﬁle can be in equilibrium only if its peripheral facilities (i.e., leftmost and rightmost facilities) are paired. In addition, if beneﬁcial deviations do not exist, the proportion of users coming from the left/right of any facility cannot be greater than the total proportion of users served by any other facility.
Consider the Limited Intervention Mediator described in Algorithm 1, and referred to as LIME hereinafter for abbreviation. The intuition behind LIME is the following: between every two locations that belong to on, we construct a potentially intervened interval (PII). The users in every PII are not directed to a facility located in the same PII, but rather to the closest facility outside of it. In addition, if a PII does not have a facility located from its left or from its right (exclusive or), the users in that PII are sent to a random player w.p. , where > 0 is an arbitrarily small constant.
To facilitate understanding of the LIME mediator, we provide the following example, which is further illustrated in Figure 1.a.
Example 1. Consider G(4, LIME), and the strategy proﬁle s = (1 16, 4 16, 10 16, 12 16). User t1, located in 0.5 16, is directed by LIME to player 1’s facility in 1 16, since t1 is outside the PIIs (Line 10). User t2, who is located in 3 16, is inside the PII (2 16, 6 16). Notice that this PII has a facility from its left and a facility from the right. Namely, according to the if condition in Line 3, r = s ∩ [6 16, 1] ≠ ∅, and l = s ∩ [0, 2 16] ≠ ∅; thus, t2 is directed to his nearest facility outside (2 16, 6 16), which is 1 16 (Line 4). User t3 is inside the PII (6 16, 10 16), and is therefore directed to his nearest facility outside this PII, player 3’s facility in 10 16 (PIIs are open intervals, and this facility lies in the exterior of (6 16, 10 16)). User t4 is inside (10 16, 14 16), and this PII does

t1 1

t2

2

t3

3

t4

4

(a) 0 01.65 116 126 136 146 166 186 196 1106 1116 1126 1146 1

(b) 0 126

1

2

6 6.5 7.5

16 16

16

34
9 9.5 10 16 16 16

1146 1

1

2

3

4

(c) 0 126 166 1106 1146 1

Figure 1: Three strategy proﬁles for G(4, LIME). The blue (dotted) segments represent potentially intervened intervals (PIIs), and the numbered circle are the locations selected by the corresponding players. Sub-ﬁgure (a) visualizes Example 1. Subﬁgure (b) exempliﬁes a case where all players locate their facilities in the PII (6 16, 10 16). In this case, LIME directs every customer outside the PIIs to his nearest facility; every customer in (6 16, 10 6) is also directed to her nearest facility (Line 8 of Algorithm 1); and a customer inside (2 16, 6 16) or (10 16, 14 16) is directed to his nearest facility w.p. 1 − , and with the remaining probability to a facility selected uniformly at random (Line 6). The unique PNE of this game (due to Theorem 1) is
demonstrated in Sub-ﬁgure (c).

not have a facility from its right (i.e., r = s ∩ [14 16, 1] = ∅); thus, w.p. 1 − LIME directs him to the facility in 10 16, and with the remaining probability he is directed to a facility selected uniformly at random (Line 6).
The only event not covered by Example 1 is the case where all the facilities are located in the same PII, as illustrated in Figure 1.b.
3.1 Pure Nash equilibrium
We now show that LIME is carefully constructed to mitigate players’ incentives. In particular, we show that on is the unique PNE of G(n, LIME). First, we show that under any PNE, players are not encouraged to locate their facilities in PIIs.
Lemma 2. Consider G(n, LIME) for any n ≥ 2. If s is an equilibrium proﬁle, then sj ∉ 22i−n1 , 22i+n1 for every j ∈ [n] and i ∈ [n − 1].
Next, we leverage Lemma 2 to show that there is a unique equilibrium under LIME, which is composed of the n-socially optimal locations, i.e., on. The case of n = 2 is an interesting exception and is therefore discussed separately in Subsection 4.1.
Theorem 1. Consider G(n, LIME) for any n ≥ 3. The unique PNE (up to renaming the players) is on.
See Figure 1.c for illustration. Importantly, Theorem 1 holds for any < 1 2, and implies that on is an exact PNE of G(n, LIME) and not an approximated PNE. In addition, under the proﬁle on all the facilities are outside the PIIs; hence, every user is directed to his nearest facility. Consequently,
Corollary 1. Consider G(n, LIME) for any n ≥ 3. The unique PNE, on, attains the optimal social cost, SC(LIME, on) = 41n .
Therefore, the social cost of LIME under the PNE proﬁle matches the optimal (see Table 1).

3.2 Intervention cost

Having demonstrated that LIME obtains the optimal social cost in the (unique) equilibrium, we now claim that its intervention cost is low. By deﬁnition of the LIME mediator, it sufﬁces to consider users inside PIIs only, as users outside PIIs are directed to their nearest facility; hence, they do not contribute to the intervention cost. First, we lower bound its intervention cost.

Lemma 3. For any n ≥ 3, it holds that In(LIME) ≥ 2nn−24 .

More precisely, the bound is (1 − 2 )

2n−4 n2

, which in-

creases as decreases. The expression given in Lemma 3

is obtained by taking to zero. Next, we move on to upper

bounding its intervention cost.

Theorem 2. For any n ≥ 3, it holds that In(LIME) ≤ 2nn−23.5 .
The proof of Theorem 2 assumes for simplicity that (in Line 6 of Algorithm 1) is arbitrarily small. Notice that the upper bound almost matches the lower bound. We summarize the intervention cost of LIME in Table 1. Observe that not only does LIME intervene less than DICT, but also its intervention cost diminishes in a 1 n scale, similarly to the optimal social cost (which is 1 4n).

4 Extensions
Beyond the main analysis of the paper given in the previous sections, we ﬁnd it important to examine the three following extensions.

4.1 Neutral mediators
Dilemmas other than intervention cost may arise when implementing a mediator. To illustrate such dilemmas and intertwine our recommendation games with social choice theory, we analyze the two-player game. As Theorem 1 shows, on is the unique PNE for n ≥ 3. In G(2, LIME), however, LIME does not induce a game with a unique PNE.

Proposition 1. Consider G(2, LIME). A strategy proﬁle (s1, s2) is a PNE if and only if (s1, s2) ∈ 14 , 34 × 41 , 34 .
Notice that the selection of the socially optimal locations remains a PNE, similarly to greater values of n, but this PNE is not unique. To clarify the intuition behind the latter phenomena, consider the proﬁle (1 4, 1 4). According to Line 6 in Algorithm 1, LIME directs all users in the segment (1 4, 3 4) to a random player w.p. . Under this proﬁle, random direction collides with directing these users to their nearest facility; hence, the randomness LIME employs for breaking symmetry is not enough and other tools should be applied. In fact, this problem can be easily solved by adding a lexicographic tie breaker in case both players select the same location. When augmented to LIME, this tie-breaker induces a game with the socially optimal locations as the unique PNE.
Indeed, our notion of intervention cost is not affected by such tie-breaking intervention. However, the mediator should treat players fairly, in some sense of the word. This fact is meaningful with respect to the generality of our agenda, since it introduces other considerations that involve the players rather than the users, borrowing ideas from social choice theory. The most immediate characterization of fairness in our setting is through the notion of neutrality. Formally, a mediator M is neutral if for every i, j ∈ [n] and s = (s−{i,j}, si, sj ) it holds that πi(s) = πj (s−{i,j}, sj , si). Noticeably, the DICT mediator is not neutral, while the LIME mediator and all other mediators discussed in the paper and the appendix are neutral. The inability of LIME to handle the two-player game then becomes apparent: it turns out that for every neutral mediator that induces a game with a PNE, there is a PNE when both players select the same location (see the proof in the appendix). So, no neutral mediator implementing the socially optimal locations as a unique PNE exists for n = 2, while for n ≥ 3 we show LIME does precisely that under low intervention cost.
4.2 Conﬁgurable intervention cost
In some situations it might be beneﬁcial to control the amount of intervention. A mediator may offer a tradeoff between social cost in equilibrium and intervention cost. Namely, we devise a parameterized mediator, where its parameter determines a desired intervention cost. The mediator attains the desired intervention cost but suffers some increase in its social cost in equilibrium (compared to the optimal one). For some values of n we show decisive positive results for the applicability of such a mediator in creating desired tradeoffs. This extension is deferred to the appendix.
4.3 Non-uniform user distribution
The results obtained for LIME do not hold for general user distribution, since players may have beneﬁcial deviations. However, the case of non-uniform user distribution is appealing, especially given the fact that PNEs are hard to characterize (see, e.g., (Shilony 1981; Ewerhart 2015)) or may not even exist (Osborne 1993). In this subsection we devise a mediator for general user distribution, showing initial results for this setting as well. Let g be an arbitrary continu-

Algorithm 2: GLIME

Input: A strategy proﬁle s, a user t

Output: A location in s

1 ai ← q2i−1 2n for i ∈ [n − 1]

2 if ∃i ∈ [n] such that t ∈ (ai, ai+1) then

3 l ← s ∩ [0, ai] , r ← s ∩ [ai+1, 1]

4 if l ≠ ∅ and r ≠ ∅ then

5 w.p. 12 return NIME(l, t), otherwise return NIME(r, t)

6 else if l ≠ ∅ or r ≠ ∅ then

7

w.p. 1 − return NIME(l ∪ r, t), otherwise

return random(s, t)

8 else

9

return NIME(s, t)

10 else 11 return NIME(s, t)

ous function supported in the [0, 1] segment, and denote by G(n, M, g) the game induced by the mediator M, n players and g as the user distribution function. Let qa be the a-th quantile of g. Consider the General Limited Intervention Mediator described in Algorithm 2, and referred to as GLIME hereinafter for abbreviation. GLIME operates similarly to LIME, but carries out two things differently. First, it incorporates the quantiles of g instead of those of the uniform distribution (on deﬁned earlier). The other difference is given in Line 5. Instead of directing users in PIIs to their nearest facility outside that PII, it directs such users w.p. 1 2 to the nearest facility right of the PII (if such exists), and with the remaining probability to the nearest facility left of the PII. Importantly, GLIME induces games with a unique PNE, which is highly desired.
Lemma 4. Consider G(n, LIME, g) for any n ≥ 3 and general density function g. The unique PNE (up to renaming the players) is s = (q2i−1 2n)ni=1.
Next, we bound the intervention cost of GLIME. Since the analysis for general distributions is highly challenging, we leave it for future work and only focus on its intervention cost under the uniform distribution.
Proposition 2. For any n ≥ 2, it holds that In(GLIME) ≥ 41 − 21n + 2n12 .
Indeed, while the intervention cost of GLIME is greater than that of LIME, it is better than that of DICT.
Lemma 5. For every n, In(DICT) > In(GLIME).
5 Discussion
Another interesting solution concept that can be employed, if the domain permits it, is to allow the mediator to direct users in some cases with w.p. less than 1. Namely, to skip the players offers and avoid producing a recommendation. BenPorat and Tennenholtz (2018a) implement this idea while adopting an axiomatic approach to player fairness, and introduces a mediator that induces a PNE for games with any user space (e.g., k-dimensional space or even non-metric

space). However, they do not discuss user welfare. This suggests one should seek mediators that balance user welfare and player welfare simultaneously, hopefully by not intervening too much.
Acknowledgments
This project has received funding from the European Research Council (ERC) under the European Union’s Horizon 2020 research and innovation programme (grant agreement n° 740435).
References
[1992] Anderson, S. P.; De Palma, A.; and Thisse, J. F. 1992. Discrete choice theory of product differentiation. MIT press.
[1974] Aumann, R. J. 1974. Subjectivity and correlation in randomized strategies. Journal of Mathematical Economics 1(1):67–96.
[2017] Ben-Basat, R.; Tennenholtz, M.; and Kurland, O. 2017. A game theoretic analysis of the adversarial retrieval setting. Journal of Artiﬁcial Intelligence Research 60:1127– 1164.
[2017] Ben-Porat, O., and Tennenholtz, M. 2017. Shapley facility location games. In International Conference on Web and Internet Economics, 58–73. Springer.
[2018a] Ben-Porat, O., and Tennenholtz, M. 2018a. A gametheoretic approach to recommendation systems with strategic content providers. In Advances in Neural Information Processing Systems (NIPS) 2018. To appear.
[2018b] Ben-Porat, O., and Tennenholtz, M. 2018b. Multiunit facility location games. Accepted to Mathematics of Operations Research. Preliminary version appeared in WINE 2016.
[2018] Ben-Porat, O.; Rosenberg, I.; and Tennenholtz, M. 2018. Convergence of learning dynamics in information retrieval games. arXiv preprint arXiv:1806.05359.
[2010] Brenner, S. 2010. Location (hotelling) games and applications. Wiley Encyclopedia of Operations Research and Management Science.
[1975] Eaton, B. C., and Lipsey, R. G. 1975. The principle of minimum differentiation reconsidered: Some new developments in the theory of spatial competition. The Review of Economic Studies 42(1):27–49.
[2015] Ewerhart, C. 2015. Mixed equilibrium in a pure location game: The case of n \geq 4 ﬁrms. The BE Journal of Theoretical Economics 15(2):457–472.
[2016] Feldman, M.; Fiat, A.; and Obraztsova, S. 2016. Variations on the hotelling-downs model. In Thirtieth AAAI Conference on Artiﬁcial Intelligence.
[2014] Fournier, G., and Scarsini, M. 2014. Hotelling games on networks: efﬁciency of equilibria. Available at SSRN 2423345.
[1929] Hotelling, H. 1929. Stability in competition. The Economic Journal 39(153): 41–57, 1929.
[2004] Monderer, D., and Tennenholtz, M. 2004. kimplementation. Journal of Artiﬁcial Intelligence Research 21:37–62.

[2007] Nisan, N.; Roughgarden, T.; Tardos, E.; and Vazirani, V. V. 2007. Algorithmic game theory, volume 1. Cambridge University Press Cambridge.
[1993] Osborne, M. J. 1993. Candidate positioning and entry in a political competition. Games and Economic Behavior 5(1):133–151.
[2009] Procaccia, A., and Tennenholtz, M. 2009. Approximate mechanism design without money. In EC-09.
[1975] Salton, G.; Wong, A.; and Yang, C.-S. 1975. A vector space model for automatic indexing. Communications of the ACM 18(11):613–620.
[2007] Schummer, J., and Vohra, R. V. 2007. Mechanism design without money. Algorithmic Game Theory 10:243– 299.
[1982] Shaked, A. 1982. Existence and computation of mixed strategy nash equilibrium for 3-ﬁrms location problem. The Journal of Industrial Economics 93–96.
[1952] Shapley, L. S. 1952. A value for n-person games. Technical report, DTIC Document.
[2017] Shen, W., and Wang, Z. 2017. Hotelling-downs model with limited attraction. In Proceedings of the 16th Conference on Autonomous Agents and MultiAgent Systems, 660–668. International Foundation for Autonomous Agents and Multiagent Systems.
[1981] Shilony, Y. 1981. Hotelling’s competition with general customer distributions. Economics Letters 8(1):39–45.
[1995] Shoham, Y., and Tennenholtz, M. 1995. On social laws for artiﬁcial agent societies: off-line design. Artiﬁcial Intelligence 73(1-2):231–252.

A Omitted proofs from Section 2

Proof of Lemma 1.

Let

δ

>

0

be

an

arbitrary

small

constant,

and

let

sδ

=

(sδ1

,

s

δ 2

,

.

.

.

,

s

δ n

)

denote

a

strategy

proﬁle

such

that

sδ1

=

1 2n

and

sδi

=

2i−1 2n

+

δ

for

i

∈

{2, . . . , n}.

Since

s1

=

on1 ,

all

users

are

directed

to

s1;

hence,

SC(DICT, sδ) = 1 1 2 + 1 1 − 1 2 = 1 − 1 + 1 . 2 2n 2 2n 2 2n 4n2

In addition, due to the continuity of the social cost, SC(NIME, sδ) = SC(NIME, on) + O(δ) where O(δ) approaches 0 as δ

decreases; Therefore,

SC(DICT, sδ) − SC(NIME, sδ) = 1 − 3 + 1 − O(δ). 2 4n 4n2

Finally,

In(DICT) = sup {SC(DICT, s) − SC(NIME, s)}
s∈S

≥ lim SC(DICT, sδ) − SC(NIME, sδ)
δ→o+

13 1

13 1

= lim
δ→0+

2 − 4n + 4n2 − O(δ)

= 2 − 4n + 4n2 .

B Omitted proofs from Section 3
Proof of Lemma 2. Let s be an arbitrary proﬁle, and assume sj ∈ (oni , oni+1) holds for some j and i. For simplicity, we assume that < 31 . In addition, for every strategy proﬁle s, let (s) denote the expected amount of users directed according to Line 6 of LIME (i.e. sent w.p. to a random player), and notice that (s) < .
We prove the lemma by showing that player j must have a beneﬁcial deviation. We proceed by an exhaustive case analysis:

• If both oni and oni+1 are occupied under s: player j gets only randomly-sent users; thus, by moving to oni+1 her payoff strictly increases.
• If exactly one of oni , oni+1 is occupied under s (w.l.o.g. oni ): we have two sub-cases. If s ∩ (oni+1, 1] ≠ ∅, the player controlling the rightmost facility in (oni , oni+1) can improve her payoff if she deviates to oni+1. Else, if s ∩ (oni+1, 1] = ∅, let w.l.o.g. sj be the rightmost location under s,

Let s′j = oni+1. It holds that

1 n−i−1

(s)

πj(s) = 2n + n (1 − ) + n .

πj(s−j, s′j) = 21n + n −ni − 1 (1 − ) + 21n + (s−nj, s′j) > πj(s).

• If both of oni , oni+1 are empty under s: we have three sub-cases.

1. If sj has both left and right neighbors outside (oni , oni+1): Let j′ denote a player with the leftmost facility in (oni , oni+1). We

now show that j′ has a beneﬁcial deviation. If the facility of player j′ is lone, then she can increase her payoff by deviating

to oni . Otherwise, if player j′s facility is paired, let α and β denote the user mass served by the facilities in sj′ from left

and right correspondingly. If the facility of player j′ has a right neighbor inside (oni , oni+1), then β = 0 ≠ α, and she could

deviate

to

oni

and

increase

her

payoff.

Alternatively,

if

her

facility

does

not

have

a

right

neighbor

inside

(

o

n i

,

o

n i+1

)

,

then

πj′ (s)

=

α+2β ,

and

by

deviating

to

one

of

{

o

n i

,

o

n i+1

}

she

could

get

at

least

1

1

max α + 2n , β + 2n > πj′ (s).

2.

If

sj

has

only

left

(symmetric

for

right)

neighbor

outside

(

o

n i

,

o

n i+1

)

:

Let

j′

denote

a

player

with

the

leftmost

facility

in (oni , oni+1). If her facility has a right neighbor inside (oni , oni+1), then she can increase her payoff by deviating to oni .

Otherwise, it does not have a right neighbor inside that interval. If her facility is lone, she can again increase her payoff

by deviating to oni . If her facility is paired, let α and β denote the user mass served by the facilities in sj′ from left and

right

correspondingly,

and

let

γ

denote

the

amount

of

randomly-directed

users

she

obtains.

Notice

that

πj′ (s)

=

α+β 2

+

γ.

However, by deviating to one of {oni , oni+1} she could get at least

1

1

max α + n + γ, β + 2n + γ − n2 > πj′ (s).

3. Else, all the facilities are inside (oni , oni+1). If all the facilities are located in the same point, the payoff of each player is n1 .

By

deviates

to

one

of

{oni ,

oni+1},

player

j

can

get

max{ 22i−n1 ,

22i+n1 },

which

is

greater

than

1 n

for

every

i

∈

[n−1].

Otherwise,

if the facilities are scattered over two points or more inside the interval, let j′ denote the player with the rightmost facility.

Clearly, she can increase her payoff by deviating to oni+1.

We conclude that if s in a PNE proﬁle, then all PIIs are free of facilities.

Proof of Theorem 1.

Let s

=

(s1, . . . sn) be a proﬁle such that s1

≤

s2

≤

⋯

≤

sn, let oni

=

2i−1 2n

for i

∈

[n] and assume

s ≠ (on1 , . . . , onn) = on and that s is in equilibrium. The proof consists of several steps, where in each step we further characterize

s, relying on the fact that it is a PNE. Finally, we show that s must be on.

Step 1: Under s, every player gets exactly 1 . Otherwise, there exists a player j with payoff less than 1 . Notice that on ∖ s ≠ ∅

since

s

≠

on;

thus,

there

exists

a

free

n
location

in

on,

and

player

j

has

a

beneﬁcial

deviation:

if

she

n
deviates

to

that

location

her

payoff becomes greater or equal to n1 .

Step

2:

It

holds

that

s

∩

n−1
∪i=1

(oni ,

oni+1)

=

∅.

This

follows

immediately

from

Lemma

2.

Step 3: It holds that s ∩ [0, on1 ) = ∅ and s ∩ (onn, 1] = ∅. Otherwise, assume by contradiction that s ∩ [0, on1 ) ≠ ∅ (symmetric

for

the

other

argument),

and

denote

by

j

a

player

such

that

sj

∈

[

0,

o

n 1

)

.

If

player

j’s

facility

is

paired

(namely,

there

is

another

facility of different player in sj), these two facilities must obtain the same user mass from both sides, or otherwise she has a

beneﬁcial

deviation.

However,

if

this

is

true,

her

payoff

is

sj

<

1 2n

(with,

perhaps,

an

additional

epsnilon ),

which

contradicts

Step

1. If player j’s facility is lone, we have two sub-cases. If s−j ∩[0, on1 ] = ∅ (i.e. no other facility is located in the interval [0, on1 ]),

player j can increase her payoff by deviating to on1 . Else, if s−j ∩ [0, on1 ] ≠ ∅, then there is a facility in the segment [0, on1 ] that

attracts a user mass of at most 21n , which contradicts Step 1.

Step 4: We have learned so far that under s all the facilities are located in a subset of the socially optimal locations on. In this

step we show that if there exists i ∈ [n − 1] such that oni is not occupied, then oni+1 must be occupied with more than one facility.

First, assume that there exists i ∈ [n − 1] such that both oni and oni+1 are not occupied. In this case, any player that moves to

oni obtains a payoff that is strictly greater than n1 . Second, if there exists i ∈ [n − 1] such that oni is not occupied, and oni+1 is

occupied with a lone facility, then the corresponding player obtains a payoff that is strictly greater than n1 . The mirror argument,

which holds symmetrically, implies that for every i ∈ {2, . . . n}, if oni+1 is not occupied then oni is occupied with more than one

facility. Together, it means that for every i ∈ {2...n−1}, if oni is not occupied, then oni−1 and oni+1 must be occupied with multiple

facilities.

Step 5: Both on1 and onn are occupied. Otherwise, assume that on1 is not occupied (symmetric for onn). Since on2 must be occupied with k ≥ 2 facilities (Step 4), we have two options:

•

If on ∖ {on1 } = s, i.e. the only empty location in on

under s is on1 , then there exists a player that gets strictly greater than

1 n

(her share plus n ). This in the only place in the proof that requires n ≥ 3.

• Else, if there is i ∈ {3, . . . , n} such that oni ∉ s, one of the players in on2 can move her facility to oni and get a payoff that is strictly greater than n1 (her share plus n ).

Step 6: To obtain a contradiction, we must show that each location of on is occupied with a facility under s. Let αmul denote the number of locations in on with multiple facilities under s. In addition, let αempty denote the number of locations in on
which are not occupied with facilities under s. By the way we deﬁned αmul and αempty, it holds that αmul ≤ αempty. On the other hand, Step 5 suggests that on1 and onn must be occupied, and Step 4 implies that if oni is not occupied for
i ∈ {2...n − 1}, then oni−1 and oni+1 must be occupied with multiple facilities. As a result, αmul ≥ αempty + 1, which is clearly a contradiction.
We obtained s = on, as required.

Proof of Lemma 3.

Let n

≥

3, and let 0

<

δ

<

1 2n

be an arbitrary constant. denote sδ

=

(sδ1, . . . sδn) such that for every player

index

i

≤

⌈ n2 ⌉,

sδi

=

1 2n

+

δ,

and

sδi

=

2n−1 2n

−

δ

otherwise

if

n
⌈2⌉

<

i

≤

n.

To

ease

notation,

let

SCA(LIME, sδ)

denote

the

social

cost when restricted to the users in a A ⊂ [0, 1] only, and similarly for SCA(NIME, sδ). Due to the LIME operates, it follows

that

SC(LIME, sδ) − SC(NIME, sδ) = SCA(LIME, sδ) − SCA(NIME, sδ)

where A = 21n , 23n ∪ 2n2n−3 , 2n2n−1 . More elaborately, LIME coincides with NIME for every user outside of A, and hence it sufﬁces to examine the social cost of the users in A only.

Under LIME, every user t ∈ 21n , 23n covers a distance of 2n2n−1 − t − δ. By integrating over all the users in 21n , 23n we get

3 2n 2n − 1 − δ − t dt =

1 2n

2n

2n − 1

t2 3 2n

−δ t−

2n

21

2n

2n − 1

3 9 2n − 1

11

= 2n − δ 2n − 8n2 − 2n − δ 2n + 8n2

2n − 3 δ

=

2n2

−. n

(1)

In addition, w.p. every user in the interval is served by a random facility, since the PII 21n , 23n does not have a facility from its left (Line 6 of Algorithm 1). s contains only two distinct locations; thus, w.p. ⌈nn2 ⌉ LIME directs every t ∈ 21n , 23n as NIME. Due to symmetry (of the uniform distribution), the users in 2n2n−3 , 2n2n−1 cover the same distance. Overall,

SCA(LIME, sδ) = 1 −

2n − 3 2δ −

+

SCA(NIME, sδ).

(2)

2 n2 n 2

On the other hand, under NIME and the proﬁle sδ, the users in 21n , 23n travel a total distance of

1 2n+δ 1

( + δ − t)dt +

1 2n

2n

3 2n (t − ( 1 + δ))dt

1 2n+δ

2n

1

t2 1 2n+δ t2

1

3 2n

=

+δ t−

+ − t( + δ)

2n

2 1 2n

22

1 2n+δ

11

21 δ 1

9 31

11

2

= 2 2n + δ − 4n2 − 2n + 8n2 + 8n2 − 2n 2n + δ + 2 2n + δ

1

2 1 δ 3 3δ

= 2n + δ − 8n2 − 2n + 8n2 − 2n

1

2 1 2δ

= 2n + δ + 4n2 − n

= 1 − δ + δ2. 2n2 n

A symmetric argument applies for the users in 2n2n−3 , 2n2n−1 ; thus

SCA(NIME, sδ) = 1 − 2δ + 2δ2.

(3)

n2 n

By combining Equations (2) and (3) we get

SCA(LIME, sδ) − SCA(NIME, sδ) = 1 − 2n − 4 − 2δ2 .

(4)

2 n2

The proof is completed by taking the limit,

In(LIME) = sup {SC(LIME, s) − SC(NIME, s)} ≥ lim SC(LIME, sδ) − SC(NIME, sδ) = 1 −

s∈S

δ→0+

2

2n − 4 n2 .

C Proof of Theorem 2

Proof of Theorem 2.

Let oni =

2i−1 2n

for i ∈ [n], and denote

Is

def
=

j ∈ [n − 1] ∶ s ∩

o

n j

,

o

n j+1

≠∅

,

As

def
=

⋃

o

n j

,

o

n j+1

.

j∈Is

By deﬁnition4 of LIME, it sufﬁces to examine all users t such that t ∈ As; hence, it holds that

In(LIME) = sup {SC(LIME, s) − SC(NIME, s)}
s∈S

n

= sup

LIME(s, t)i ⋅ si − t dt −

min s′i − t dt .

(5)

s∈S t∈As i=1

t∈As i′∈[n]

4to ease readability, we omit the analysis of user LIME directs to random facilities, as written in the body of the paper.

Let

n

f

(s)

def
=

LIME(s, t)i ⋅ si − t dt −

min s′i − t dt.

t∈As i=1

t∈As i′∈[n]

We

proceed

by

showing

that

f (s)

≤

2n−3.5 n2

for

every

s

∈

S.

● First, we analyze the cases of Is = 0 and Is = 1. Line 10 in Algorithm 1 implies that for every s such that Is = 0,

LIME operates exactly as NIME; hence, f (s) = 0 for such proﬁles. In case Is = 1, denote the only element in Is by j. If

s∩

o

n j

,

o

n j+1

= s, then due to Line 8 in Algorithm 1 LIME operates as NIME, and hence f (s) = 0. Otherwise, s∩

o

n j

,

o

n j+1

≠ ∅,

and LIME directs all the users in

o

n j

,

o

n j+1

to their nearest facility outside that interval (Line 4). Since we wish to bound f , we

can w.l.o.g. assume that s ∖

o

n j

,

o

n j+1

contains a single facility, as otherwise f can only be smaller; thus, denote the location

of the only facility outside

o

n j

,

o

n j+1

by x. It holds that

f (s) =
t∈(onj ,onj+1)

t − x − min si − t
si ∈s

dt ≤
t∈(onj ,onj+1)

1 t − x dt − 4n2 .

Due to monotonicity, the worst case (i.e., highest value of f ) is obtained for x = 1 and j = 1, or equivalently x = 0 and j = n − 1; thus,

1 21 1

3

1 2n − 2.5 2n − 3.5

f (s) ≤ n

2 + n 1 − 2n − 4n2 = 2n2 ≤

n2 .

● We are left to analyze the case of Is ≥ 2, which turns to be trickier. Notice that

n

1

In(LIME) < ssu∈Sp t∈As i=1 LIME(s, t)i ⋅ si − t dt − Is 4n2 , (6)

where the last inequality follows from the bound on optimal social cost, 1 4n. Due to the deﬁnition of LIME,

⎧

⎫

⎪⎪⎪⎪

1 ⎪⎪⎪⎪

RHS of Eq. (6) = sup ⎨ sS⎪

min
i∈s∖(on ,on

si − t dt − Is
)

4n

2

⎬ ⎪

.

(7)

∈ ⎪⎪⎪⎩j∈Is t∈(onj ,onj+1) j j+1 ⎪⎪⎪⎭

Clearly, if under a strategy proﬁle there are facilities outside the PIIs, the term inside the supremum can only decrease; thus, it is sufﬁce to consider strategy proﬁles with facilities inside PIIs only. Next,

Proposition C.1. Let s be a strategy proﬁle, and let (a, b) be an interval such that s ∩ (a, b) = ∅. It holds that

b

a+b

min si − t dt ≤ (b − a) min si −

a i∈[n]

i∈[n]

2

.

The proof of this proposition appears below. By invoking Proposition C.1 we have

Eq. (7) ≤ sup 1 min s∈S j∈Is n i∈Is∖{j}

j1 si − n − 4n

≤ sup 1 min i − j + 1 − 1 , (8) s∈S j∈Is n i∈Is∖{j} n n 2n 4n

where the last inequality is due to triangle inequality, since the distance between every facility si and the center of the interval 22l−n1 , 22l+n1 it relies in is at most half of the interval size. Since there is an onto mapping from S to 2[n−1] (as there n players
but n − 1 intervals),

1

ij 1 1

1

Eq. (8) = max
D⊆[n−1]

min n i∈D∖{j}

n − n + 4n

=

n2

max
D 2[n−1]

min i − j + .

i∈D∖{j}

4

(9)

j∈D

⊆

j∈D

Next, we prove the following lemma:

Lemma C.1. For every D ⊆ [n − 1], it holds that min
j∈D i∈D∖{j}

i−j + 1 4

≤ 2n − 3.5

The proof of this lemma appears below. By combining Lemma C.1 with Equation (9), we obtain

2n − 3.5

Eq. (9) ≤ n2 .

(10)

Overall,

we

conclude

that

In(LIME)

<

2n−3. n2

5

.

Proof of Proposition C.1.

Let α such that α = arg minsi∈s

si

−

a+b 2

for some α ≥ 0. Since s ∩ (a, b) = ∅, α ∉ (a, b) holds, so

assume w.l.o.g. that α ≥ b. We continue by highlighting two cases. In case all the users in (a, b) are served by the facility in α,

i.e., arg minsi∈s si − t = α for every t ∈ (a, b), we have

b

b

b2 − a2

a+b

min si − t dt = (α − t) dt = (b − a)α −

a i∈[n]

a

2

= (b − a) α − 2 .

Otherwise, if for some values of t ∈ (a, b) it holds that β = arg minsi∈s si − t for β ≠ α (and therefore β ≤ a), we have

b

b

b

min si − t dt = min{ α − t , β − t }dt < (α − t) dt,

a si∈s

a

a

which is identical to the previous case.

Proof of Lemma C.1. We solve the optimization problem by a reduction to graph problem. Consider the directed graph G = (V, E), where V = {v1, . . . , vn−1}, and deﬁne

E = ⋃ {(vi, vi+1), (vi+1, vi)} .
i∈[n−2]

Next, observe that the function given in the lemma is equivalent to the selection of D ⊆ V as to maximize

f

(D)

def
=

min

vj ∈D vi∈D∖{vj }

i−j + 1 4

D = 4 + vj∈D vi∈mD∖in{vj} S(vi, vj ) ,

where S(vi, vj) is the set of edges corresponding to the shortest path from vi to vj. Let D∗ = {v1, vn−1}, and observe that f (D∗) = E + 21 . In addition, notice that by selecting a vertex vi for i ∈ {2, 3, . . . n − 2}, S(vi, vj) contains exactly one of {(vi, vi+1), (vi, vi−1)}. As a result, for every internal (i.e. one of {v2, . . . , vn−2}) D contains, it loses one edge from E; thus, for every D of size greater than two (that must contain at least one of {v2, . . . , vn−2}),

f (D) ≤ D + E − ( D − 2) = E − 3 D + 2 D<>2 E < f (D∗).

4

4

This completes the proof of the lemma.

D Omitted proofs from Section 4
Proof of Proposition 1. This proposition is a special case of Proposition E.1.

Claim D.1. There is no neutral mediator such that • (x, y) is a PNE for some x, y ∈ [0, 1] such that x ≠ y • For every z, (z, z) is not a PNE

Proof of Claim D.1. Assume by contradiction that (x, y) is a PNE; hence,

Neutrality 1 π1(x, y) ≥ π1(y, y) = 2 .

Due

to

symmetry

and

the

game

being

constant

sum,

π1(x, y)

=

π2(x, y)

=

12 .

In

addition,

neutrality

suggests

that

π1(y, y)

=

1 2

and due to the second condition (y, y) in not a PNE; thus, there exists x′ such that

1 π1(x′, y) > π1(y, y) = 2 = π1(x, y),

hinting that (x, y) is not a PNE, and we obtained a contradiction.

Proof of Lemma 4.

Let

s∗

def
=

(q2i−1

2n)ni=1.

The

proof

consists

of

two

steps:

ﬁrst,

we

show

that

s∗

is

a

PNE;

then,

we

show

it

is

the unique PNE of the induce game.

Step 1: Notice that the facility in q1 2n obtains a payoff of exactly n1 , with a user mass of the interval q1 2n, q3 2n arriving from the right (see Line 5 in Algorithm 2), which is 21n , and a user mass of 21n arriving from the left. The same applies for the facility located in q2n−1 . 2n In addition, for every i ∈ {2, . . . , n − 1}, the facility located in q2i−1 2n gets half of the user mass in

q2i−3 2n, q2i−1 2n , and half of the user mass of in q2i−1 2n, q2i+1 2n . Overall, each player gets exactly n1 .

Consider a deviation of player j for some arbitrary j. If player j would deviate to a point in 0, q1 2n or q2n−1 n, 1 , she

could

get

at

most

1 2n

+

n2

(the

term

n2

arriving

from

the

case

j

=

1

or

j

=

n).

If

she

would

deviate

to

a

point

in

q2i−1 , 2n q2i+1 2n

for

some

i

∈

[n

−

1],

she

would

get

at

most

1 2n

+

n2 .

Finally,

if

deviates

to

a

point

q2i−1

2n

for

some

i

∈

[n],

her

payoff

could

be

at

most

3 4n

+

n2 .

Consequently,

she

has

no

beneﬁcial

deviation.

Overall,

we

showed

that

s∗

is

a

PNE.

Step 2: Let s = (s1, . . . , sn) be an arbitrary strategy proﬁle such that w.l.o.g. s1 ≤ ⋯ ≤ sn, s ≠ s∗, and assume by contradiction

that s is in equilibrium. First, we show that

Lemma D.1. Consider G(n, GLIME) for any n ≥ 2. If s is an equilibrium proﬁle, then sj ∉ q 2i−1 , q 2i+1 for every j ∈ [n]

2n

2n

and i ∈ [n − 1].

The proof of the Lemma D.1 follows closely the proof of Lemma 2, by replacing oni with its counterpart for non-uniform

distributions, q 2i−1 ; hence, it is omitted. This equivalence stems from the proof of Lemma 2 considering beneﬁcial deviations

to

n
∪i

1{oni },

2n
which

yield

the

same

payoffs

as

deviations

to

n
∪i

1 {q2i−1

} 2n

under

a

non-uniform

distribution.

=
Next,

by

reiterating

the

steps

given

in

the

proof

of

=
Theorem

1

and

replacing

oni

with

q 2i−1

,

we

show

that

under

s

∩

s∗

=

s.

Namely, we show that if s is a PNE then the facilities’ locations under s are a subset of ∪ni=21n{q2i−1 2n}, the locations selected in

s∗. The proof is completed by showing that each location in ∪ni=1{q2i−1 } 2n is selected by exactly one player, which is also the

ﬁnal step in the proof of Theorem 1.

Proof of Proposition 2. Consider the proﬁle s where half of the players select 21n and the other half select 2nn−1 . It holds that

SC(GLIME, s) − SC(NIME, s)
1 n−1 2 1 1 2 = 2 n − 2 − 2n
11 1 1 1 1 = 2 − n + 2n2 − 4 − 2n + 4n2
11 1 = 4 − 2n + 4n2 .

Corollary 2. Consider G(n, LIME, g) for n ≥ 3. The social cost of the unique PNE is

12

2

n−1

2

2 q1 2n + q2n−1 2n + i=1 (q2i+1 2n − q2i−1 2n) .

For the uniform user distribution, the social cost is 2n−1 4n2, which is relatively high when compared to social cost of LIME. Nevertheless, recall that GLIME is applicable for any general distribution.

Proof of Lemma 5.

Let oni =

2i−1 2n

for i ∈ [n], and denote I

def
=

∪i∈[n−1]

(oni ,

oni+1).

Recall

that

1n

SC(GLIME, s) − SC(NIME, s) =

GLIME(s, t)i ⋅ si − t − min si′ − t dt.

0 i=1

i′ ∈[n]

For every t ∉ I it holds that

n

GLIME(s, t)i ⋅ si − t = min si′ − t ,

i=1

i′ ∈[n]

since GLIME directs it to its nearest facility under s; hence, it sufﬁces to consider users in for which GLIME operates nonoptimally, i.e. analyze f that is deﬁne as follows:

n

f

(s)

def
=

GLIME(s, t)i ⋅ si − t − min si′ − t dt.

I i=1

i′ ∈[n]

Algorithm 3: Conﬁgurable Limited Intervention Mediator

Input: A strategy proﬁle s, user t and a hyper-parameter λ

Output: A location in s

1 if ∃i ∈ {1, n − 1} such that t ∈ ni − λ, ni + λ then

2

l←s∩

0,

i n

−

λ

,r ←s∩

i n

+

λ,

1

3 if l ≠ ∅ and r ≠ ∅ then

4

return NIME(l ∪ r, t)

5 else if l ≠ ∅ or r ≠ ∅ then

6

w.p. 1 − return NIME(l ∪ r, t), otherwise return random(s, t)

7 else

// all facilities are inside that interval

8

return NIME(s, t)

9 else // t is outside the intervals
10 return NIME(s, t)

In addition, let L(s, t) denote the distance t covers when GLIME sends him to its nearest facility from the left, and similarly let R(s, t) denote the distance when he is send by GLIME to the right; thus,

1

1

f (s) =

I

2 L(s, t)

+

2 R(s, t)

−

min
i′ ∈[n]

si′

−

t

dt.

(11)

For every i ∈ [n − 1] and a user t ∈ (oni , oni+1) it holds that

1 L(s, t) + 1 R(s, t) = 1 L s, i + 1 R s, i ;

2

2

2

n2

n

hence,

n−1 1

i

i

f (s) = i=1 2n L s, n + R s, n − I im′∈[inn] si′ − t dt . (12)

term I
Next, we analyze the two terms in Equation (12):

term II

• Notice that

n−1 1

i

i

term I =

L s, + R s,

i=1 2n

n

n

≤ n−1, 2n

where equality holds only if s ∩ {0, 1} = s.

• Due to Claim 1, we know that

1

term II =

I

min si′ − t
i′ ∈[n]

dt ≥ I 4n ,

where equality holds only under the (unique, up to renaming the players) strategy proﬁle s0 under which the facilities are

located

in

the

optimal

locations

w.r.t.

to

[

o

n 1

,

o

n n

].

In

particular,

s0

∩

{0, 1}

≠

s0,

so

under

s0

term

I

is

strictly

less

than

its

bound.

Combining what we know on terms I and II, we conclude that for every proﬁle s

n−1 n−1 1 1 3 1

f (s) < 2n − n ⋅ 4n = 2 − 4n + 4n2 ,

(13)

which is less than the lower bound obtained for DICT (see Lemma 1).

E Conﬁgurable limited intervention mediator
In this section we propose a mediator that uncovers low social cost with low intervention cost. The mediator, which we term Conﬁgurable Limited Intervention Mediator or CLIME(λ) for abbreviation, is given in Algorithm 3. CLIME(λ) operates similarly to LIME, but does two things differently. First, it contains one PII if n = 2 (a two-player game), and two PIIs otherwise. Second, it receives as input a hyper-parameter, λ, which limits the length of the PIIs. This allows CLIME(λ) to tune the trade-off between low social cost and low intervention cost. When we discuss properties of the CLIME(λ) mediator that hold for general λ, we omit λ and refer to the mediator as CLIME. We begin by analyzing the two-player game, and then move to general games.

E.1 The two-player game

In this subsection we formally analyze G(2, CLIME(λ)). Since CLIME is neutral (see Subsection 4.1), Claim D.1 suggests that it either induces a game with a symmetric PNE, or a game with no PNE at all. We now show that the former is correct.

Proposition E.1. Consider G(2, CLIME(λ)) for 0 < λ ≤ 41 . A strategy proﬁle s = (s1, s2) is a PNE if and only if s1, s2 ∈ { 12 − λ, 12 + λ}.

In

particular,

by

setting

λ

=

1 4

we

recover

the

results

obtained

for

G(2, LIME)

in

Proposition

1.

Next,

denote

the

set

of

PNE

by E d=ef { 21 − λ, 12 + λ}2. By a simple calculation, one can see that

Corollary 3.

Consider G

=

G(2, CLIME(λ)) for 0

<

λ

≤

41 . for every e

∈

E, it holds that SC(CLIME(λ), e)

∈

1
{4

−λ+

2λ2,

1 4

+

λ2}.

Consequently, one can view that the best and worst social cost as a function of λ,

min SC(CLIME(λ), e) = 1 − λ + 2λ2, max SC(CLIME(λ), e) = 1 + λ2

e∈E

4

e∈E

4

Notably, the best social cost is 81 , obtained for λ = 14 . However, the social cost can also deteriorate (when compared to NIME),

and

is

5 16

in

the

worst

case.

This

does

not

come

as

a

surprise,

since

for

λ

=

1 4

the

games

G(

2,

CLIME

(

1 4

))

and

G(2, LIME)

are

strategically equivalent.

We proceed to analyzing the intervention cost of CLIME.

Proposition E.2. It holds that In(CLIME(λ)) ≤ λ − λ2.

Now, the trade-off between the minimal social cost in equilibrium and the intervention cost can be quantiﬁed as follows,

min {min SC(CLIME(λ), e) + c ⋅ In(CLIME(λ))},

0<

λ≤

1 4

e∈E

where c is a penalty for intervening. Equivalently,

min 1 + (c − 1)λ + (2 − c)λ2 ; 0<λ≤ 41 4

thus, CLIME(λ) is applicable whenever the mediator designer gives more weight to improving the social cost (low values of c, i.e. c < 1). On the other hand, if c ≥ 1, intervention is not desired, and the designer would be better off with adopting NIME as a mediator.

E.2 Multi-player games

We now focus on G(n, CLIME(λ)) for n ≥ 3. First, we show a negative result for CLIME for n = 3.
Proposition E.3. Consider G(3, CLIME(λ)). For every 0 < λ < 16 , there is no PNE. As it turns out, the equilibrium structure varies for n ≥ 4. As mentioned above, we do not study it in this paper but rather
exemplify some cases. Before we do so, we give a crude bound on the intervention cost of games with n ≥ 3.

Proposition E.4. For n ≥ 3, it holds that I(CLIME) ≤ 4λ.

We now showcase a few examples.

Four players

Consider

G(4,

CLIME(

1 8

)).

The

strategy

proﬁle

s

=

(

1 8

,

3 8

,

5 8

,

7 8

)

is

the

unique

PNE

(up

to

renaming

the

play-

ers) of this game, with a social cost of SC(CLIME, s) = 116 , i.e., the optimal social cost in a four-player game. In fact, this

equilibrium structure extends to G(4, CLIME(λ)) with any λ ≤ 18 . See Figure 2 for illustration.

Five players For n = 5, and unlike n = 4, CLIME(λ) may induce a game with several equilibria, depending on the value of λ. For example, if λ = 110 the socially optimal locations (i.e., 110 , 130 , 150 , 170 , 190 ) are the unique equilibrium. However, when λ = 410 , agglomerating on the two distant endpoints of the PIIs can be in equilibrium. See Figure 2 for illustration.

Games with n ≥ 6 See Figure 4 for illustration. Here too, several equilibria may exist. To conclude, although not always the case, CLIME illustrate in a constructive manner an approach for trading some social cost for getting lower intervention cost.

1

2

3

(a) 0 18 28 38 48 58

4
78 1

1

2

3

4

(b) 0 122 132 142 162 182 192 1102 1

Figure 2: Two PNE proﬁles in four-player games with CLIME. Sub-ﬁgure (a) corresponds to G(4,CLIME(λ)) with λ = 18 , and Sub-ﬁgure (b) corresponds to G(4,CLIME(λ)) with λ = 112 . Each proﬁle is the unique PNE of the game induces by CLIME(λ) with the corresponding λ.

1

2

3

4

5

(a) 0 110 120 130 150 170 180 190 1

2

5

1

3

4

(b) 0 470 480 490 2400 3410 3420 3430 1

Figure 3: Two PNE proﬁles in ﬁve-player games with CLIME. Sub-ﬁgure (a) corresponds to G(4,CLIME(λ)) with λ = 110 , and Sub-ﬁgure (b) corresponds to G(4,CLIME(λ)) with λ = 410 . Note that in Sub-ﬁgure 3.(b) there are paired facilities, unlike the examples given for LIME.

F Proofs of Section E

The following claim will be useful in what follows. Claim F.1. Consider G(2, CLIME(λ)) for 0 < λ ≤ 14 . If a strategy proﬁle s is a PNE, then s ∩ 12 − λ, 12 + λ = ∅.

Proof of Claim F.1. Assume the claim does not hold, and w.l.o.g. let s1 ≤ s2. If s ∩ 21 − λ, 21 + λ

s′2

=

1 2

+

λ

her

payoff

would

increase,

since

λ1

1

π2(s1, s′2) = 1 − 2 2λ + 2 + 2 − λ = 2 + λ 1 − 2

<1 1 > 2 = π2(s);

hence, s cannot be in equilibrium. Otherwise, w.l.o.g. s ∩ 12 − λ, 21 + λ = s2. There are two cases:

= 2, then by deviating to

1.

If s1 =

1 2

− λ, then π2(s) <

1 2

(as previously explained); thus, player 2 has a beneﬁcial deviation

2.

s1 <

1 2

− λ, then by deviating to s′1 =

1 2

− λ player 1 would improve her payoff, since π1(s) < π1(s′1, s2).

Under both cases the players have beneﬁcial deviations; therefore, s is not in equilibrium.

Proof of Proposition E.1. First, by a simple case analysis one can show that every proﬁle in { 12 − λ, 12 + λ}2 is a PNE, since the players do not have beneﬁcial deviations. On the other hand, let s = (x, y) such that (x, y) ∉ { 21 − λ, 21 + λ}, and assume by contradiction that (x, y) is a PNE. In addition, w.l.o.g. assume that x ∉ { 12 − λ, 21 + λ}. Due to Claim F.1, we know that x and y are outside 12 − λ, 12 + λ . If x ≠ y, player 1 can move her facility towards that of player 2, and improve her payoff. Otherwise, if x = y, by deviating to one of {x − δ, x + δ} for a small δ > 0, player 1 can obtain a payoff arbitrarily close to max{x, 1 − x}, which is greater than 21 since x ∉ { 21 − λ, 12 + λ}.

Proof of Corollary 3. For sworst = 12 − λ, 21 − λ (or equivalently, for s = 21 + λ, 12 + λ ), SC(CLIME, sworst) = 21 − λ 2 21 + 21 + λ 2 12 = 41 + λ2
For sbest = 21 − λ, 12 + λ it hold that SC(CLIME, sbest) = 12 − λ 2 + λ2 = 14 − λ + 2λ2

(a) 0
(b) 0

1

2

2

4

6

24

24

24

2 1

11 13 72 72

1

23

(c) 0 210 220 230 240

3 9 24
4 7 20

12 24

3

4

33 36 39 72 72 72

6 5

10 20

4 15 24
7 13 20

5

6

1284 2204 2224 1

6 5

5792 6712 1

89

10

1260 1270 1280 1290 1

Figure 4: Examples of PNE proﬁle of G(n, CLIME(λ)), for various values of n and λ. In Sub-ﬁgure 4.(a) n = 6 and λ = 112 , in Sub-ﬁgure 4.(b) n = 6 and λ = 712 , and in Sub-ﬁgure 4.(c) and n = 10 and λ = 210 .

Proof of Proposition E.2. Let s = (x, y), and let

f

(x,

y)

def
=

SC

(CLIME,

(x,

y))

−

SC

(NIME,

(x,

y))

.

We are interested in

I2(CLIME) = sup f (x, y)

(14)

x,y∈[0,1]

Let I d=ef 12 − λ, 12 + λ , and observe that if x, y ∈ I, then due to Line 8 in Algorithm 3 it holds that CLIME(x, y, t) = NIME(x, y, t) for every user t. Moreover, if x, y ∉ I, CLIME(x, y, t) = NIME(x, y, t) holds for every t as well due to Line 10.

Consequently,

Eq. (14) = sup f (x, y) = sup f (x, y).

x∉I ,y∈I

x

≤

1 2

−λ,y

∈I

where the last equality is due to symmetry. Let x, y such that x ≤ 21 − λ and y ∈ I, and notice that

f (x, y) = ( t − x − min{ t − y , t − x }) dt.
I
Next, we deﬁne Iy(x, y) to be the set of users in I that are closer to y than to x, i.e., Iy(x, y) = {t ∈ I Ix(x, y) = I ∖ Iy(x, y). We can rephrase Equation (15) as follows

(15) t − y ≤ t − x }, and let

f (x, y) =

( t − x − min{ t − y , t − x }) dt +

( t − x − min{ t − y , t − x }) dt

Ix (x,y )

Iy (x,y)

=

( t − x − t − y ) dt.

(16)

Iy (x,y)

We claim that f is monotonically decreasing in x when y is ﬁxed. This holds not only because the integrand in the last term in Equation (16) is monotonically decreasing in x when y is ﬁxed, but also since the set Iy(x, y) monotonically decreases in x. As a result,

Eq. (14) = sup f (0, y).

(17)

y∈I

Since λ ≤ 41 , under every proﬁle (0, y) such that y ∈ I, NIME directs every t ∈ I to y. In contrast, under every proﬁle (0, y) such that y ∈ I, CLIME directs every t ∈ I to x; thus, by a direct calculation we conclude that for every y ∈ I

f (0, y) = (2λ)2 + 2λ 1 − λ − 1 y − 1 + λ 2 + 1 + λ − y 2 . (18)

2

2

2

2

2

Moreover,

df (0, y) 1

1

1

d2f (0, y)

dy = − 2 2 y − 2 + λ − 2 2 + λ − y = 1 − 2y, dy2 = −2 < 0;

(19)

hence, f (0, y) is concave in y, and attains its maximum in y = 21 . Since

f

0, 1

= (2λ)2 + 2λ

1 −λ

1 −

λ2 + λ2

2

2

2

2

due to Equation (17) it holds that

I2(CLIME) = λ − λ2

This concludes the proof of the Proposition.

= λ − λ2,

Claim F.2. Consider G(3, CLIME(λ)) for 0 < λ < 16 . If s ∩ 13 − λ, 31 + λ ∪ 23 − λ, 23 + λ ≠ ∅ then s is not a PNE.

Proof of Claim F.2. Assume the claim does not hold, and w.l.o.g. s1 ≤ s2 ≤ s3. We show by exhaustive case analysis that s is not a PNE.

1. If s ∩ 31 − λ, 13 + λ

=

3:

Player

1

obtains

a

payoff

of

less

than

1 3

+ λ,

but

by

deviating

to

1 3

+λ

she

could

get

at

least

23 + λ (1 − ); hence, she has a beneﬁcial deviation (deviating to the left).

2. If s ∩ 13 − λ, 13 + λ

=

2:

In

case

s1, s2

∈

1
(3

− λ,

1 3

+ λ)

and

s3

>

1 3

+ λ,

player

3

has

a

beneﬁcial

deviation.

If

s3

=

1 3

+λ

then

player

1

moves

to

1 2

and

the

analysis

is

similar

to

Case

1.

Similar

argument

applies

in

case

s2, s3

∈

1
(3

−

λ,

1 3

+

λ).

3. If s ∩ 31 − λ, 13 + λ

=

1:

In

case

s1

∈

1
(3

−

λ,

1 3

+

λ),

we

have

two

sub-cases:

•

if s2 =

1 3

+ λ, player 1 can improve her payoff by deviating to

1 3

− λ.

•

if s2 >

1 3

+ λ, player 1 can improve her payoff by deviating to

1 3

+ λ.

Else,

if

s3

∈

1
(3

−

λ,

1 3

+

λ)

player

1

can

improve

her

payoff

by

deviating

to

1 3

+

λ.

Finally,

if

s2

∈

(

1 3

−

λ,

1 3

+

λ)

then

(s1,

s3)

must

be

(

1 3

−

λ,

1 3

+

λ),

since

otherwise

the

corresponding

player

has

a

beneﬁcial

deviation.

However,

if

s1

=

1 3

−

λ,

she

can

improve

her

payoff

by

deviating

to

1 3

+

λ

+

δ

for

small

enough

δ.

The analysis for ( 23 − λ, 23 + λ) is symmetric and hence omitted. We conclude that s is not a PNE.

Proof of Proposition E.3. Assume w.l.o.g. that s1 ≤ s2 ≤ s3. According to Claim F.2, if s is a PNE then the PIIs are free of facilities. As for the other alternatives,

1. s1 = s2 = s3. Every player gets a payoff of 31 . However, by deviating to one of { 12 − δ, 12 + δ}, a player can get more than that; hence, there exist beneﬁcial deviations.

2.

If

s1

<

s2

<

s3:

In

case

s2

∈

{

1 3

+

λ,

2 3

+

λ}

then

player

1

can

deviate

to

s′1

=

s2

−

δ

for

small

enough

δ

and

improve

her

payoff.

Else,

if

s2

=

1 3

+

λ,

player

3

has

a

beneﬁcial

deviation.

Otherwise,

if

s2

=

2 3

+

λ,

player

1

has

a

beneﬁcial

deviation.

3.

Assume

w.l.o.g.

s1

=

s2

<

s3

(symmetrically

for

s1

<

s2

=

s3):

If

s1

∈

{

1 3

− λ, 23

− λ} then player 3 has a beneﬁcial deviation

to

s′3

=

s1

+ δ,

for

small

enough

δ.

If

s1

=

1 3

− λ,

then

unless

s3

=

1 3

+λ

player

3

can

improve

her

payoff

by

deviating

to

1 3

+ λ.

However,

if

s3

=

1 3

+

λ,

player

1

can

deviate

to

1 2

and

improve

her

payoff.

Similar

argument

holds

for

s1

=

2 3

−

λ.

Proof of Proposition E.4. Denote

def 1 1 1 1 n − 1 1 n − 1 1

I= − , + ∪

−,

+.

n λn λ

n λn λ

Observe that for every user t ∈ I it holds that (See Line 10 in Algorithm 3)

n

CLIME(s, t)i ⋅ si − t = min si′ − t ;

i=1

i′ ∈[n]

thus,

In(CLIME) = sup{SC(CLIME, s) − SC(NIME, s)}
s∈S

n

= sup
s∈S

CLIME(s, t)i ⋅ si − t − min si′ − t dt.

I i=1

i′ ∈[n]

< sup
s∈S
= 4λ.

1dt
I

